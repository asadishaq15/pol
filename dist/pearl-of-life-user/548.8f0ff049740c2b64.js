"use strict";(self.webpackChunkpearl_of_life_user=self.webpackChunkpearl_of_life_user||[]).push([[548],{8548:(_n,Y,y)=>{y.r(Y),y.d(Y,{FeaturesModule:()=>hn});var u=y(6895),f=y(3599),m=y(8387),l=y(433),e=y(1571),h=y(9837),M=y(5136);let P=(()=>{const i=class extends M.b{constructor(){super(...arguments),this.baseUrl=m.X_}getNotes(t=""){return this.get(`${this.baseUrl}/notes?${t||""}`)}getNotesByUserId(t="72FB6FC5-1488-4E1F-9CFC-7992318A670C",n){return this.get(`${this.baseUrl}/notes/${t}`,n)}addUpdateNote(t,n){const o=`${this.baseUrl}/notes${n?"/"+n:""}`;return n&&this.put(o,t)||this.post(o,t)}deleteNote(t){return this.delete(`${this.baseUrl}/notes/${t}`)}};let r=i;return i.\u0275fac=function(){let t;return function(o){return(t||(t=e.n5z(i)))(o||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),r})();var v=y(4880);function V(r,i){1&r&&(e.TgZ(0,"div",20),e._uU(1," Title is required "),e.qZA())}function X(r,i){1&r&&(e.TgZ(0,"div",20),e._uU(1," Title cannot be more than 20 characters "),e.qZA())}function W(r,i){1&r&&(e.TgZ(0,"div",20),e._uU(1," Date is required "),e.qZA())}function ee(r,i){1&r&&(e.TgZ(0,"div",20),e._uU(1," Description is required "),e.qZA())}let U=(()=>{const i=class{constructor(t,n,o,a){this.activeModal=t,this.formBuilder=n,this.notesService=o,this.sharedService=a,this.data={}}ngOnInit(){this.noteForm=this.formBuilder.group({heading:["",[l.kI.required,l.kI.maxLength(20)]],description:["",l.kI.required],note_date:["",l.kI.required]}),this.data?.item?.id&&this.patchForm()}patchForm(){this.noteForm.patchValue({heading:this.data.item.heading,description:this.data.item.description,note_date:(0,m.Cm)(this.data.item.note_date)}),this.noteForm.updateValueAndValidity()}submit(){if(this.noteForm.invalid)Object.keys(this.noteForm.controls).forEach(t=>{const n=this.noteForm.get(t);n?.invalid&&n.markAsTouched()});else{const t=this.noteForm.value;this.notesService.addUpdateNote({heading:t.heading,description:t.description,note_date:(0,m.Z0)(t.note_date)},this.data?.item?.id||null).subscribe({next:n=>{this.sharedService.showToast({classname:"success",text:n?.message}),this.closeModal()},error:n=>{this.sharedService.showToast({classname:"error",text:n?.error?.message})}})}}closeModal(){this.activeModal.close(null)}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(h.Kz),e.Y36(l.QS),e.Y36(P),e.Y36(v.F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-manage-notes"]],inputs:{data:"data"},decls:30,vars:12,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn",3,"click"],["src","../../../../assets/icons/form/close-lg.svg"],[3,"formGroup","submit"],[1,"modal-body","manage-note"],[1,"mb-3"],["for","heading",1,"col-form-label"],["type","text","placeholder","Title","id","heading","formControlName","heading",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","note_date",1,"col-form-label"],[1,"input-group","position-relative","mb-3"],["placeholder","DD/MM/YYYY","name","noteDate","formControlName","note_date","ngbDatepicker","","readonly","",1,"form-control","pe-5"],["noteDate","ngbDatepicker"],[1,"input-group-text",3,"click"],["src","../../../../assets/icons/form/calender.svg"],["for","description",1,"col-form-label"],["rows","3","formControlName","description",1,"form-control"],[1,"modal-footer","d-flex","justify-content-end"],[1,"btn","submit-button"],[1,"invalid-feedback"]],template:function(n,o){if(1&n){const a=e.EpF();e.TgZ(0,"div",0)(1,"h4",1),e._uU(2),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.closeModal()}),e._UZ(4,"img",3),e.qZA()(),e.TgZ(5,"form",4),e.NdJ("submit",function(){return o.submit()}),e.TgZ(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9,"Title"),e.qZA(),e._UZ(10,"input",8),e.YNc(11,V,2,0,"div",9),e.YNc(12,X,2,0,"div",9),e.qZA(),e.TgZ(13,"div",6)(14,"label",10),e._uU(15,"Date"),e.qZA(),e.TgZ(16,"div",11),e._UZ(17,"input",12,13),e.TgZ(19,"span",14),e.NdJ("click",function(){e.CHM(a);const d=e.MAs(18);return e.KtG(d.toggle())}),e._UZ(20,"img",15),e.qZA(),e.YNc(21,W,2,0,"div",9),e.qZA()(),e.TgZ(22,"div",6)(23,"label",16),e._uU(24,"Description"),e.qZA(),e._UZ(25,"textarea",17),e.YNc(26,ee,2,0,"div",9),e.qZA()(),e.TgZ(27,"div",18)(28,"button",19),e._uU(29,"Save"),e.qZA()()()}if(2&n){let a,c,d,p,g,b,_;e.xp6(2),e.hij("",o.data.name," Note"),e.xp6(3),e.Q6J("formGroup",o.noteForm),e.xp6(5),e.ekj("is-invalid",((null==(a=o.noteForm.get("heading"))?null:a.touched)||(null==(a=o.noteForm.get("heading"))?null:a.dirty))&&(null==(a=o.noteForm.get("heading"))?null:a.invalid)),e.xp6(1),e.Q6J("ngIf",(null==(c=o.noteForm.get("heading"))||null==c.errors?null:c.errors.required)&&((null==(c=o.noteForm.get("heading"))?null:c.touched)||(null==(c=o.noteForm.get("heading"))?null:c.dirty))),e.xp6(1),e.Q6J("ngIf",(null==(d=o.noteForm.get("heading"))||null==d.errors?null:d.errors.maxlength)&&((null==(d=o.noteForm.get("heading"))?null:d.touched)||(null==(d=o.noteForm.get("heading"))?null:d.dirty))),e.xp6(5),e.ekj("is-invalid",((null==(p=o.noteForm.get("note_date"))?null:p.touched)||(null==(p=o.noteForm.get("note_date"))?null:p.dirty))&&(null==(p=o.noteForm.get("note_date"))?null:p.invalid)),e.xp6(4),e.Q6J("ngIf",(null==(g=o.noteForm.get("note_date"))||null==g.errors?null:g.errors.required)&&((null==(g=o.noteForm.get("note_date"))?null:g.touched)||(null==(g=o.noteForm.get("note_date"))?null:g.dirty))),e.xp6(4),e.ekj("is-invalid",((null==(b=o.noteForm.get("description"))?null:b.touched)||(null==(b=o.noteForm.get("description"))?null:b.dirty))&&(null==(b=o.noteForm.get("description"))?null:b.invalid)),e.xp6(1),e.Q6J("ngIf",(null==(_=o.noteForm.get("description"))||null==_.errors?null:_.errors.required)&&((null==(_=o.noteForm.get("description"))?null:_.touched)||(null==(_=o.noteForm.get("description"))?null:_.dirty)))}},dependencies:[u.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,h.J4],styles:[".manage-note[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}.invalid-feedback[_ngcontent-%COMP%]{color:#dc3545;font-size:.875em}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545!important}"]}),r})(),J=(()=>{const i=class extends M.b{constructor(){super(...arguments),this.baseUrl=m.X_}getCredentials(t){return this.get(`${this.baseUrl}/credentials`,t)}addUpdateCredentials(t,n){const o=`${this.baseUrl}/credentials${n?"/"+n:""}`;return n&&this.put(o,t)||this.post(o,t)}deleteCredentials(t){return this.delete(`${this.baseUrl}/credentials/${t}`)}};let r=i;return i.\u0275fac=function(){let t;return function(o){return(t||(t=e.n5z(i)))(o||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),r})();function te(r,i){1&r&&(e.TgZ(0,"div",21),e._uU(1," Domain Name is required "),e.qZA())}function ne(r,i){1&r&&(e.TgZ(0,"div",21),e._uU(1," Domain Name cannot be more than 50 characters "),e.qZA())}function oe(r,i){1&r&&(e.TgZ(0,"div",21),e._uU(1," Website URL is required "),e.qZA())}function ie(r,i){1&r&&(e.TgZ(0,"div",21),e._uU(1," Username is required "),e.qZA())}function re(r,i){1&r&&(e.TgZ(0,"div",21),e._uU(1," Password is required "),e.qZA())}let L=(()=>{const i=class{constructor(t,n,o,a){this.activeModal=t,this.formBuilder=n,this.passwordService=o,this.sharedService=a,this.data={},this.showPassword=!1}ngOnInit(){this.passwordForm=this.formBuilder.group({domain_name:["",l.kI.required],domain_url:["",l.kI.required],username:["",l.kI.required],password:["",l.kI.required]}),this.data?.item?.id&&this.patchForm()}patchForm(){this.passwordForm.patchValue({domain_name:this.data.item.domain_name,domain_url:this.data.item.domain_url,username:this.data.item.username,password:this.data.item.password}),this.passwordForm.updateValueAndValidity()}submit(){if(this.passwordForm.invalid)Object.keys(this.passwordForm.controls).forEach(t=>{const n=this.passwordForm.get(t);n?.invalid&&n.markAsTouched()});else{const t=this.passwordForm.value;this.passwordService.addUpdateCredentials({domain_name:t.domain_name,domain_url:t.domain_url,username:t.username,password:t.password},this.data?.item?.id||null).subscribe({next:n=>{this.sharedService.showToast({classname:"success",text:n?.message}),this.closeModal(n.data)},error:n=>{this.sharedService.showToast({classname:"error",text:n?.error?.message})}})}}closeModal(t){this.activeModal.close(t||null)}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(h.Kz),e.Y36(l.QS),e.Y36(J),e.Y36(v.F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-manage-password"]],inputs:{data:"data"},decls:34,vars:17,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn",3,"click"],["src","../../../../assets/icons/form/close-lg.svg"],[3,"formGroup","submit"],[1,"modal-body","manage-note"],[1,"mb-3"],["for","domain_name",1,"col-form-label"],["type","text","placeholder","Domain Name","id","domain_name","formControlName","domain_name",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","domain_url",1,"col-form-label"],["type","text","placeholder","Website Url","id","domain_url","formControlName","domain_url",1,"form-control"],["for","username",1,"col-form-label"],["type","text","placeholder","Username","id","username","formControlName","username",1,"form-control"],["for","password",1,"col-form-label"],[1,"input-group"],["placeholder","Password","id","password","formControlName","password",1,"form-control",3,"type"],[1,"input-group-text"],["width","24",3,"src","click"],[1,"modal-footer","d-flex","justify-content-end"],[1,"btn","submit-button"],[1,"invalid-feedback"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.closeModal()}),e._UZ(4,"img",3),e.qZA()(),e.TgZ(5,"form",4),e.NdJ("submit",function(){return o.submit()}),e.TgZ(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9,"Domain Name"),e.qZA(),e._UZ(10,"input",8),e.YNc(11,te,2,0,"div",9),e.YNc(12,ne,2,0,"div",9),e.qZA(),e.TgZ(13,"div",6)(14,"label",10),e._uU(15,"Website Url"),e.qZA(),e._UZ(16,"input",11),e.YNc(17,oe,2,0,"div",9),e.qZA(),e.TgZ(18,"div",6)(19,"label",12),e._uU(20,"Username"),e.qZA(),e._UZ(21,"input",13),e.YNc(22,ie,2,0,"div",9),e.qZA(),e.TgZ(23,"div",6)(24,"label",14),e._uU(25,"Password"),e.qZA(),e.TgZ(26,"div",15),e._UZ(27,"input",16),e.TgZ(28,"span",17)(29,"img",18),e.NdJ("click",function(){return o.showPassword=!o.showPassword}),e.qZA()(),e.YNc(30,re,2,0,"div",9),e.qZA()()(),e.TgZ(31,"div",19)(32,"button",20),e._uU(33,"Save"),e.qZA()()()),2&n){let a,c,d,p,g,b,_,C,Z;e.xp6(2),e.hij("",o.data.name," Password"),e.xp6(3),e.Q6J("formGroup",o.passwordForm),e.xp6(5),e.ekj("is-invalid",((null==(a=o.passwordForm.get("domain_name"))?null:a.touched)||(null==(a=o.passwordForm.get("domain_name"))?null:a.dirty))&&(null==(a=o.passwordForm.get("domain_name"))?null:a.invalid)),e.xp6(1),e.Q6J("ngIf",(null==(c=o.passwordForm.get("domain_name"))||null==c.errors?null:c.errors.required)&&((null==(c=o.passwordForm.get("domain_name"))?null:c.touched)||(null==(c=o.passwordForm.get("domain_name"))?null:c.dirty))),e.xp6(1),e.Q6J("ngIf",(null==(d=o.passwordForm.get("domain_name"))||null==d.errors?null:d.errors.maxlength)&&((null==(d=o.passwordForm.get("domain_name"))?null:d.touched)||(null==(d=o.passwordForm.get("domain_name"))?null:d.dirty))),e.xp6(4),e.ekj("is-invalid",((null==(p=o.passwordForm.get("domain_url"))?null:p.touched)||(null==(p=o.passwordForm.get("domain_url"))?null:p.dirty))&&(null==(p=o.passwordForm.get("domain_url"))?null:p.invalid)),e.xp6(1),e.Q6J("ngIf",(null==(g=o.passwordForm.get("domain_url"))||null==g.errors?null:g.errors.required)&&((null==(g=o.passwordForm.get("domain_url"))?null:g.touched)||(null==(g=o.passwordForm.get("domain_url"))?null:g.dirty))),e.xp6(4),e.ekj("is-invalid",((null==(b=o.passwordForm.get("username"))?null:b.touched)||(null==(b=o.passwordForm.get("username"))?null:b.dirty))&&(null==(b=o.passwordForm.get("username"))?null:b.invalid)),e.xp6(1),e.Q6J("ngIf",(null==(_=o.passwordForm.get("username"))||null==_.errors?null:_.errors.required)&&((null==(_=o.passwordForm.get("username"))?null:_.touched)||(null==(_=o.passwordForm.get("username"))?null:_.dirty))),e.xp6(5),e.ekj("is-invalid",((null==(C=o.passwordForm.get("password"))?null:C.touched)||(null==(C=o.passwordForm.get("password"))?null:C.dirty))&&(null==(C=o.passwordForm.get("password"))?null:C.invalid)),e.s9C("type",o.showPassword?"text":"password"),e.xp6(2),e.Q6J("src",o.showPassword?"../../../assets/icons/form/eye-show.svg":"../../../assets/icons/form/eye-hide.svg",e.LSH),e.xp6(1),e.Q6J("ngIf",(null==(Z=o.passwordForm.get("password"))||null==Z.errors?null:Z.errors.required)&&((null==(Z=o.passwordForm.get("password"))?null:Z.touched)||(null==(Z=o.passwordForm.get("password"))?null:Z.dirty)))}},dependencies:[u.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]}),r})(),A=(()=>{const i=class extends M.b{constructor(){super(...arguments),this.baseUrl=m.X_}getMemoriesFolders(t=""){return this.get(`${this.baseUrl}/memories/folders?${t||""}`)}addUpdateMemoryFolders(t,n){const o=`${this.baseUrl}/memories/folders${n?"/"+n:""}`;return n&&this.put(o,t)||this.post(o,t)}getMemoriesFolderDetails(t){return this.get(`${this.baseUrl}/memories/?${t||""}`)}addMemories(t,n){const o=new FormData;return o.append("file",t),n&&o.append("text",JSON.stringify(n)),this.post(`${this.baseUrl}/memories/create`,o)}};let r=i;return i.\u0275fac=function(){let t;return function(o){return(t||(t=e.n5z(i)))(o||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),r})();var q=y(1481);function se(r,i){if(1&r&&e._UZ(0,"img",30),2&r){const s=e.oxw();e.Q6J("src",s.imageUrl,e.LSH)}}function ae(r,i){1&r&&(e.TgZ(0,"div",31),e._uU(1," Image is required "),e.qZA())}function le(r,i){if(1&r&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&r){const s=i.$implicit;e.s9C("value",null==s?null:s.id),e.xp6(1),e.hij(" ",null==s?null:s.folder_name," ")}}function ce(r,i){1&r&&(e.TgZ(0,"div",33),e._uU(1," Folder is required "),e.qZA())}function de(r,i){1&r&&(e.TgZ(0,"div",33),e._uU(1," Date is required "),e.qZA())}function ue(r,i){1&r&&(e.TgZ(0,"div",33),e._uU(1," Description is required "),e.qZA())}let H=(()=>{const i=class{constructor(t,n,o,a,c){this.activeModal=t,this.formBuilder=n,this.memoriesService=o,this.sharedService=a,this.sanitizer=c,this.data={},this.relationList=m.b6,this.memoryFolders=[]}ngOnInit(){this.getMemoriesFolderList(),this.memoriesForm=this.formBuilder.group({file:["",l.kI.required],folder_id:[{value:this.data?.item?.folder_id||"",disabled:this.data?.item?.folder_id},l.kI.required],date:["",l.kI.required],description:["",l.kI.required]}),this.data?.item?.id&&this.patchForm(this.data?.item)}getMemoriesFolderList(){this.memoriesService.getMemoriesFolders().subscribe({next:t=>{this.memoryFolders=t.data},error:t=>{this.sharedService.showToast({classname:"error",text:t?.error?.message})}})}patchForm(t){this.memoriesForm.patchValue({folder_id:t.folder_id??this.data?.item.folder_id,description:t?.description??"",date:t.date?(0,m.Cm)(t.date):null}),this.memoriesForm.updateValueAndValidity()}submit(){if(this.memoriesForm.invalid)Object.keys(this.memoriesForm.controls).forEach(t=>{const n=this.memoriesForm.get(t);n?.invalid&&n.markAsTouched()});else{const t=this.memoriesForm.value;this.memoriesService.addMemories(this.uploadedFile?this.uploadedFile:null,{folder_id:this.data?.item?.folder_id||t.folder_id,description:t.description,date:t.date?(0,m.Z0)(t.date):null}).subscribe({next:o=>{this.sharedService.showToast({classname:"success",text:o?.message}),this.closeModal()},error:o=>{this.sharedService.showToast({classname:"error",text:o?.error?.message})}})}}closeModal(){this.activeModal.close(null)}onFileChange(t){this.uploadedFile=t[0];const n=URL.createObjectURL(t[0]);this.imageUrl=this.sanitizer.bypassSecurityTrustUrl(n)}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(h.Kz),e.Y36(l.QS),e.Y36(A),e.Y36(v.F),e.Y36(q.H7))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-manage-memories"]],inputs:{data:"data"},decls:40,vars:14,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn",3,"click"],["src","../../../../assets/icons/form/close-lg.svg"],[3,"formGroup","submit"],[1,"modal-body","manage-memories","mx-4"],[1,"profile-pic","mx-auto","my-3","position-relative"],[1,"w-100"],["alt","Fetched Image",3,"src",4,"ngIf"],["type","button",1,"btn","position-absolute","bg-yellow","border-0",3,"click"],["src","../../../assets/icons/form/camera-broken.svg"],["type","file","accept","image/*","id","profile-pic-input","formControlName","file",1,"d-none",3,"change"],["fileInput",""],["class","invalid-feedback d-block text-center mb-3",4,"ngIf"],[1,"mb-3"],[1,"col-form-label"],["id","folder","formControlName","folder_id",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["for","date",1,"col-form-label"],[1,"input-group","position-relative","mb-3"],["placeholder","DD/MM/YYYY","name","date","formControlName","date","ngbDatepicker","","readonly","",1,"form-control","pe-5"],["date","ngbDatepicker"],[1,"input-group-text",3,"click"],["src","../../../../assets/icons/form/calender.svg"],["for","description",1,"col-form-label"],["rows","3","formControlName","description",1,"form-control"],[1,"modal-footer","d-flex","justify-content-end"],["type","submit",1,"btn","submit-button"],["alt","Fetched Image",3,"src"],[1,"invalid-feedback","d-block","text-center","mb-3"],[3,"value"],[1,"invalid-feedback"]],template:function(n,o){if(1&n){const a=e.EpF();e.TgZ(0,"div",0)(1,"h4",1),e._uU(2),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.closeModal()}),e._UZ(4,"img",3),e.qZA()(),e.TgZ(5,"form",4),e.NdJ("submit",function(){return o.submit()}),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7),e.YNc(9,se,1,1,"img",8),e.qZA(),e.TgZ(10,"button",9),e.NdJ("click",function(){e.CHM(a);const d=e.MAs(13);return e.KtG(d.click())}),e._UZ(11,"img",10),e.qZA(),e.TgZ(12,"input",11,12),e.NdJ("change",function(){e.CHM(a);const d=e.MAs(13);return e.KtG(o.onFileChange(d.files))}),e.qZA()(),e.YNc(14,ae,2,0,"div",13),e.TgZ(15,"div",14)(16,"label",15),e._uU(17,"Folder"),e.qZA(),e.TgZ(18,"select",16)(19,"option",17),e._uU(20,"Select"),e.qZA(),e.YNc(21,le,2,2,"option",18),e.qZA(),e.YNc(22,ce,2,0,"div",19),e.qZA(),e.TgZ(23,"div",14)(24,"label",20),e._uU(25,"Date"),e.qZA(),e.TgZ(26,"div",21),e._UZ(27,"input",22,23),e.TgZ(29,"span",24),e.NdJ("click",function(){e.CHM(a);const d=e.MAs(28);return e.KtG(d.toggle())}),e._UZ(30,"img",25),e.qZA(),e.YNc(31,de,2,0,"div",19),e.qZA()(),e.TgZ(32,"div",14)(33,"label",26),e._uU(34,"Description"),e.qZA(),e._UZ(35,"textarea",27),e.YNc(36,ue,2,0,"div",19),e.qZA()(),e.TgZ(37,"div",28)(38,"button",29),e._uU(39,"Save"),e.qZA()()()}if(2&n){let a,c,d,p,g,b,_;e.xp6(2),e.hij("",o.data.name," Memories"),e.xp6(3),e.Q6J("formGroup",o.memoriesForm),e.xp6(4),e.Q6J("ngIf",o.imageUrl),e.xp6(5),e.Q6J("ngIf",(null==(a=o.memoriesForm.get("file"))||null==a.errors?null:a.errors.required)&&((null==(a=o.memoriesForm.get("file"))?null:a.touched)||(null==(a=o.memoriesForm.get("file"))?null:a.dirty))),e.xp6(4),e.ekj("is-invalid",((null==(c=o.memoriesForm.get("folder_id"))?null:c.touched)||(null==(c=o.memoriesForm.get("folder_id"))?null:c.dirty))&&(null==(c=o.memoriesForm.get("folder_id"))?null:c.invalid)),e.xp6(3),e.Q6J("ngForOf",o.memoryFolders),e.xp6(1),e.Q6J("ngIf",(null==(d=o.memoriesForm.get("folder_id"))||null==d.errors?null:d.errors.required)&&((null==(d=o.memoriesForm.get("folder_id"))?null:d.touched)||(null==(d=o.memoriesForm.get("folder_id"))?null:d.dirty))),e.xp6(5),e.ekj("is-invalid",((null==(p=o.memoriesForm.get("date"))?null:p.touched)||(null==(p=o.memoriesForm.get("date"))?null:p.dirty))&&(null==(p=o.memoriesForm.get("date"))?null:p.invalid)),e.xp6(4),e.Q6J("ngIf",(null==(g=o.memoriesForm.get("date"))||null==g.errors?null:g.errors.required)&&((null==(g=o.memoriesForm.get("date"))?null:g.touched)||(null==(g=o.memoriesForm.get("date"))?null:g.dirty))),e.xp6(4),e.ekj("is-invalid",((null==(b=o.memoriesForm.get("description"))?null:b.touched)||(null==(b=o.memoriesForm.get("description"))?null:b.dirty))&&(null==(b=o.memoriesForm.get("description"))?null:b.invalid)),e.xp6(1),e.Q6J("ngIf",(null==(_=o.memoriesForm.get("description"))||null==_.errors?null:_.errors.required)&&((null==(_=o.memoriesForm.get("description"))?null:_.touched)||(null==(_=o.memoriesForm.get("description"))?null:_.dirty)))}},dependencies:[u.sg,u.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u,h.J4],styles:[".manage-memories[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{position:relative;width:188px;height:188px}.manage-memories[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.manage-memories[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   .w-100[_ngcontent-%COMP%]{border-radius:5%;border:2px dashed gray;overflow:hidden;width:188px;height:188px}.manage-memories[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   .w-100[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:188px;height:188px}.manage-memories[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;height:auto;padding:8px;bottom:4px;right:4px}.manage-memories[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}"]}),r})(),Q=(()=>{const i=class extends M.b{constructor(){super(...arguments),this.baseUrl=m.X_}getUserPlan(){return this.get(`${this.baseUrl}/users/plan`)}sendEmail(t){return this.post(`${this.baseUrl}/auth/send-email`,{email:t})}};let r=i;return i.\u0275fac=function(){let t;return function(o){return(t||(t=e.n5z(i)))(o||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),r})();var w=y(4252);function me(r,i){1&r&&(e.TgZ(0,"div",9),e._uU(1," Please enter a valid email address "),e.qZA())}const pe=function(r){return{"is-invalid":r}};let ge=(()=>{const i=class{constructor(t,n,o,a){this.fb=t,this.activeModal=n,this.featureService=o,this.soundService=a,this.sendEmail=new e.vpe,this.closeModal=new e.vpe,this.emailForm=this.fb.group({email:["",[l.kI.required,l.kI.email]]})}onSubmit(){this.soundService.playClickSound(),this.emailForm.valid&&(this.activeModal.close(this.emailForm.value.email),this.featureService.sendEmail(this.emailForm.value.email).subscribe({next:t=>{console.log("Email sent successfully:",t)},error:t=>{console.error("Error sending email:",t)}}))}onClose(){this.soundService.playClickSound(),this.activeModal.close(null)}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(l.qu),e.Y36(h.Kz),e.Y36(Q),e.Y36(w.y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-refer-friend-modal"]],outputs:{sendEmail:"sendEmail",closeModal:"closeModal"},decls:14,vars:6,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-button",3,"click"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Enter your friend's email",3,"ngClass"],["class","error-message",4,"ngIf"],["type","submit",1,"send-button",3,"disabled"],[1,"error-message"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return o.onClose()}),e.TgZ(1,"div",1),e.NdJ("click",function(c){return c.stopPropagation()}),e.TgZ(2,"button",2),e.NdJ("click",function(){return o.onClose()}),e._uU(3,"\xd7"),e.qZA(),e.TgZ(4,"h2"),e._uU(5,"Refer a Friend"),e.qZA(),e.TgZ(6,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(7,"div",4)(8,"label",5),e._uU(9,"Friend's Email"),e.qZA(),e._UZ(10,"input",6),e.YNc(11,me,2,0,"div",7),e.qZA(),e.TgZ(12,"button",8),e._uU(13," Send Invitation "),e.qZA()()()()),2&n){let a,c;e.xp6(6),e.Q6J("formGroup",o.emailForm),e.xp6(4),e.Q6J("ngClass",e.VKq(4,pe,(null==(a=o.emailForm.get("email"))?null:a.invalid)&&(null==(a=o.emailForm.get("email"))?null:a.touched))),e.xp6(1),e.Q6J("ngIf",(null==(c=o.emailForm.get("email"))?null:c.invalid)&&(null==(c=o.emailForm.get("email"))?null:c.touched)),e.xp6(1),e.Q6J("disabled",o.emailForm.invalid)}},dependencies:[u.mk,u.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:white;padding:2rem;border-radius:8px;width:90%;max-width:500px;position:relative}.close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:none;border:none;font-size:1.5rem;cursor:pointer}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ccc;border-radius:4px;font-size:1rem}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545!important}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem;margin-top:.25rem}.send-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:.5rem 1rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem}.send-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]}),r})(),O=(()=>{const i=class{constructor(t,n){this.sharedService=t,this.router=n}canActivate(t,n){const o=this.sharedService.userToken;if(!o)return this.router.navigate(["/auth/login"]),!1;const a=o?JSON.parse(atob(o.split(".")[1])):{};return!!(a&&a.subscription&&"none"!==a.subscription||t.routeConfig&&t.routeConfig.path&&t.routeConfig.path.startsWith("obituary-info"))||(this.router.navigate(["/subscription-plans"]),!1)}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.LFG(v.F),e.LFG(f.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),r})();var E=y(529);let D=(()=>{const i=class{constructor(t){this.http=t,this.apiUrl=m.X_}getKeyHolders(){return this.http.get(`${this.apiUrl}/key-holders`)}addKeyHolder(t){return this.http.post(`${this.apiUrl}/key-holders`,t)}updateKeyHolder(t,n){return this.http.put(`${this.apiUrl}/key-holders/${t}`,n)}deleteKeyHolder(t){return this.http.delete(`${this.apiUrl}/key-holders/${t}`)}getKeyHolderById(t){return this.http.get(`${this.apiUrl}/key-holders/${t}`)}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.LFG(E.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),r})();const he=function(r){return{"d-none":r}};function _e(r,i){if(1&r){const s=e.EpF();e.ynx(0),e.TgZ(1,"a",2),e.NdJ("click",function(){const o=e.CHM(s).$implicit,a=e.oxw();return e.KtG(a.emit(null==o?null:o.label))}),e._UZ(2,"img",3),e._uU(3),e.qZA(),e.BQk()}if(2&r){const s=i.$implicit;e.xp6(2),e.MGl("src","../../../assets/icons/side-bar/",s.label,".svg",e.LSH),e.Q6J("ngClass",e.VKq(3,he,!(null!=s&&s.label))),e.xp6(1),e.hij(" ",(null==s?null:s.text)||"TEXT"," ")}}let x=(()=>{const i=class{constructor(t){this.sounService=t,this.label=new e.vpe}emit(t){this.sounService.playClickSound(),this.label.emit({component:t})}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(w.y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-items-card"]],inputs:{items:"items"},outputs:{label:"label"},standalone:!0,features:[e.jDz],decls:2,vars:1,consts:[[1,"d-flex","gap-3","justify-content-start","add-items-card"],[4,"ngFor","ngForOf"],[1,"link-grid",3,"click"],[3,"ngClass","src"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.YNc(1,_e,4,5,"ng-container",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngForOf",o.items))},dependencies:[u.ez,u.mk,u.sg,f.Bz],styles:[".add-items-card[_ngcontent-%COMP%]   .link-grid[_ngcontent-%COMP%]{cursor:pointer!important;text-decoration:none;background-color:#e9dfe9;background-image:linear-gradient(0deg,#e9dfe9 0%,#c1e6eb 100%);color:#5f9ea0;font-weight:500;padding:20px 30px;border-radius:16px}.add-items-card[_ngcontent-%COMP%]   .link-grid[_ngcontent-%COMP%]:hover{color:#fff;background-color:#fbab7e;background-image:linear-gradient(62deg,#FBAB7E 0%,#F7CE68 100%)}"]}),r})(),fe=(()=>{const i=class{constructor(t,n,o,a,c,d){this.ngbModalService=t,this.sharedService=n,this.subscriptionGuard=o,this.soundService=a,this.router=c,this.keyHolderService=d,this.hasKeyHolders=!1,this.addCardItems=[m.NS.MEMORIES,m.NS.NOTES,m.NS.LEGACY]}ngOnInit(){this.checkKeyHolders()}checkKeyHolders(){this.keyHolderService.getKeyHolders().subscribe({next:t=>{this.hasKeyHolders=t&&t.data.length>0},error:()=>{this.hasKeyHolders=!1}})}addComponent(t){if(console.log(t),!this.hasKeyHolders)return this.sharedService.showToast({classname:"warning",text:"Please assign at least one key holder to access this feature."}),void this.router.navigate(["/key-holders"]);switch(t.component){case m.NS.NOTES.label:this.addNote();break;case m.NS.PASSWORDS.label:this.addPassword();break;case m.NS.MEMORIES.label:this.addMemories();break;case m.NS.LEGACY.label:this.referFriend();break;default:return}}canActivate(){const t=this.sharedService.userToken;if(!t)return this.sharedService.showToast({classname:"danger",text:"Please login to continue."}),!1;const n=t?JSON.parse(atob(t.split(".")[1])):{};return!(!n||!n.subscription||"none"===n.subscription)||(this.sharedService.showToast({classname:"warning",text:"Please subscribe to a plan to access this feature."}),window.location.href="/subscription-plans",!1)}referFriend(){console.log("Refer a Friend clicked"),this.soundService.playClickSound();const t=this.ngbModalService.open(ge,{size:"md",backdrop:"static",keyboard:!1,centered:!1});t.componentInstance.data={name:"Add",item:null},t.result.then(n=>{console.log(n)}).catch(n=>console.log(n))}addPassword(){this.soundService.playClickSound();const t=this.ngbModalService.open(L,{size:"md",backdrop:"static",keyboard:!1,centered:!1});t.componentInstance.data={name:"Add",item:null},t.result.then(n=>{console.log(n)}).catch(n=>console.log(n))}addNote(){if(this.soundService.playClickSound(),!this.canActivate())return;const t=this.ngbModalService.open(U,{size:"md",backdrop:"static",keyboard:!1,centered:!1});t.componentInstance.data={name:"Add",item:null},t.result.then(n=>{console.log(n)}).catch(n=>console.log(n))}addMemories(){if(this.soundService.playClickSound(),!this.canActivate())return;const t=this.ngbModalService.open(H,{size:"md",backdrop:"static",keyboard:!1,centered:!1});t.componentInstance.data={name:"Add",item:null},t.result.then(n=>{console.log(n)}).catch(n=>console.log(n))}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(h.FF),e.Y36(v.F),e.Y36(O),e.Y36(w.y),e.Y36(f.F0),e.Y36(D))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dashboard"]],decls:2,vars:1,consts:[[1,"dashboard"],[3,"items","label"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"app-add-items-card",1),e.NdJ("label",function(c){return o.addComponent(c)}),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("items",o.addCardItems))},dependencies:[x]}),r})(),N=(()=>{const i=class extends M.b{constructor(){super(...arguments),this.baseUrl=m.X_}getKeyHolders(t=""){return this.get(`${this.baseUrl}/key-holders?${t||""}`)}getKeyHolderById(t){return this.get(`${this.baseUrl}/key-holders/${t}`)}addKeyHolder(t,n){const o=new FormData;return o.append("file",t),n&&o.append("text",JSON.stringify(n)),this.post(`${this.baseUrl}/key-holders`,o)}deleteKeyHolder(t){return this.delete(`${this.baseUrl}/key-holders/${t}`)}};let r=i;return i.\u0275fac=function(){let t;return function(o){return(t||(t=e.n5z(i)))(o||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),r})();function be(r,i){1&r&&e._UZ(0,"img",37)}function ve(r,i){if(1&r&&e._UZ(0,"img",38),2&r){const s=e.oxw();e.Q6J("src",s.imageUrl,e.LSH)}}function ye(r,i){if(1&r&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&r){const s=i.$implicit;e.s9C("value",s),e.xp6(1),e.hij(" ",s," ")}}let Ce=(()=>{const i=class{constructor(t,n,o,a,c,d){this.activeModal=t,this.formBuilder=n,this.keyHolderService=o,this.sharedService=a,this.sanitizer=c,this.soundService=d,this.data={},this.relationList=m.b6}ngOnInit(){this.keyHolderForm=this.formBuilder.group({file:[""],first_name:["",l.kI.required],last_name:["",l.kI.required],email:["",l.kI.required],phone_number:[""],relation:["",l.kI.required],street:["",l.kI.required],city:["",l.kI.required],state:["",l.kI.required],zip:["",l.kI.required]}),this.data?.item?.id&&this.patchForm()}patchForm(){this.keyHolderForm.patchValue({first_name:this.data.item.first_name,last_name:this.data.item.last_name,email:this.data.item.email,phone_number:this.data.item.phone_number,relation:this.data.item.relation,street:this.data.item.street,city:this.data.item.city,state:this.data.item.state,zip:this.data.item.zip}),this.keyHolderForm.updateValueAndValidity()}submit(){if(this.soundService.playClickSound(),console.log(this.keyHolderForm),this.keyHolderForm.invalid)this.sharedService.showToast({classname:"warning",text:"Please fill all required fields."});else{const t=this.keyHolderForm.value;this.keyHolderService.addKeyHolder(this.uploadedFile?this.uploadedFile:null,{first_name:t.first_name,last_name:t.last_name,email:t.email,phone_number:t.phone_number,street:t.street,city:t.city,state:t.state,zip:t.zip,relation:t.relation}).subscribe({next:o=>{this.sharedService.showToast({classname:"success",text:o?.message}),this.closeModal()},error:o=>{this.sharedService.showToast({classname:"error",text:o?.error?.message})}})}}closeModal(){this.activeModal.close(null)}onFileChange(t){this.uploadedFile=t[0];const n=URL.createObjectURL(t[0]);this.imageUrl=this.sanitizer.bypassSecurityTrustUrl(n)}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(h.Kz),e.Y36(l.QS),e.Y36(N),e.Y36(v.F),e.Y36(q.H7),e.Y36(w.y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-manage-key-holders"]],inputs:{data:"data"},decls:60,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn",3,"click"],["src","../../../../assets/icons/form/close-lg.svg"],[3,"formGroup","submit"],[1,"modal-body","manage-key-holder","mx-4"],[1,"profile-pic","mx-auto","my-3","position-relative"],[1,"w-100"],["src","../../../assets/images/user-default-image.svg",4,"ngIf"],["alt","Fetched Image",3,"src",4,"ngIf"],["type","button",1,"btn","position-absolute","bg-yellow","border-0",3,"click"],["src","../../../assets/icons/form/camera-broken.svg"],["type","file","accept","image/*","id","profile-pic-input","formControlName","file",1,"d-none",3,"change"],["fileInput",""],[1,"row","mb-3"],[1,"col-12","col-lg-6"],["for","first_name",1,"col-form-label"],["type","text","placeholder","First Name","id","first_name","formControlName","first_name",1,"form-control"],["for","last_name",1,"col-form-label"],["type","text","placeholder","Last Name","id","last_name","formControlName","last_name",1,"form-control"],["for","email",1,"col-form-label"],["type","email","placeholder","Email","id","email","formControlName","email",1,"form-control"],["for","phone_number",1,"col-form-label"],["type","text","placeholder","Phone Number","id","phone_number","formControlName","phone_number",1,"form-control"],[1,"mb-3"],["for","address",1,"col-form-label"],["id","relation","formControlName","relation",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-form-label"],["type","text","placeholder","123 Main St","formControlName","street",1,"form-control"],[1,"col-12","col-lg-4"],["type","text","placeholder","City","formControlName","city",1,"form-control"],["type","text","placeholder","State","formControlName","state",1,"form-control"],["type","text","placeholder","ZIP Code","formControlName","zip",1,"form-control"],[1,"modal-footer","d-flex","justify-content-end"],["type","submit",1,"btn","submit-button"],["src","../../../assets/images/user-default-image.svg"],["alt","Fetched Image",3,"src"],[3,"value"]],template:function(n,o){if(1&n){const a=e.EpF();e.TgZ(0,"div",0)(1,"h4",1),e._uU(2),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.closeModal()}),e._UZ(4,"img",3),e.qZA()(),e.TgZ(5,"form",4),e.NdJ("submit",function(){return o.submit()}),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7),e.YNc(9,be,1,0,"img",8),e.YNc(10,ve,1,1,"img",9),e.qZA(),e.TgZ(11,"button",10),e.NdJ("click",function(){e.CHM(a);const d=e.MAs(14);return e.KtG(d.click())}),e._UZ(12,"img",11),e.qZA(),e.TgZ(13,"input",12,13),e.NdJ("change",function(){e.CHM(a);const d=e.MAs(14);return e.KtG(o.onFileChange(d.files))}),e.qZA()(),e.TgZ(15,"div",14)(16,"div",15)(17,"label",16),e._uU(18,"First Name"),e.qZA(),e._UZ(19,"input",17),e.qZA(),e.TgZ(20,"div",15)(21,"label",18),e._uU(22,"Last Name"),e.qZA(),e._UZ(23,"input",19),e.qZA()(),e.TgZ(24,"div",14)(25,"div",15)(26,"label",20),e._uU(27,"Email"),e.qZA(),e._UZ(28,"input",21),e.qZA(),e.TgZ(29,"div",15)(30,"label",22),e._uU(31,"Phone Number"),e.qZA(),e._UZ(32,"input",23),e.qZA()(),e.TgZ(33,"div",24)(34,"label",25),e._uU(35,"Relation"),e.qZA(),e.TgZ(36,"select",26)(37,"option",27),e._uU(38,"Select"),e.qZA(),e.YNc(39,ye,2,2,"option",28),e.qZA()(),e.TgZ(40,"div",24)(41,"label",29),e._uU(42,"Street Address"),e.qZA(),e._UZ(43,"input",30),e.qZA(),e.TgZ(44,"div",14)(45,"div",31)(46,"label",29),e._uU(47,"City"),e.qZA(),e._UZ(48,"input",32),e.qZA(),e.TgZ(49,"div",31)(50,"label",29),e._uU(51,"State"),e.qZA(),e._UZ(52,"input",33),e.qZA(),e.TgZ(53,"div",31)(54,"label",29),e._uU(55,"ZIP Code"),e.qZA(),e._UZ(56,"input",34),e.qZA()()(),e.TgZ(57,"div",35)(58,"button",36),e._uU(59,"Save"),e.qZA()()()}2&n&&(e.xp6(2),e.hij("",o.data.name," Key Holder"),e.xp6(3),e.Q6J("formGroup",o.keyHolderForm),e.xp6(4),e.Q6J("ngIf",!o.imageUrl),e.xp6(1),e.Q6J("ngIf",o.imageUrl),e.xp6(29),e.Q6J("ngForOf",o.relationList))},dependencies:[u.sg,u.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u],styles:[".manage-key-holder[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{position:relative;width:188px;height:188px}.manage-key-holder[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.manage-key-holder[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   .w-100[_ngcontent-%COMP%]{border-radius:50%;overflow:hidden}.manage-key-holder[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   .w-100[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:188px;height:188px}.manage-key-holder[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;height:auto;padding:8px;bottom:0;right:0}"]}),r})();function Ze(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div",3)(1,"h5"),e._uU(2,"You haven't assigned any key holders yet"),e.qZA(),e.TgZ(3,"p",4),e._uU(4," To use all features of the application, please add at least one key holder. "),e.qZA(),e.TgZ(5,"button",5),e.NdJ("click",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.openKeyHolderPopup(n))}),e._uU(6," Add Key Holder "),e.qZA()()}}function ke(r,i){if(1&r&&e._UZ(0,"img",13),2&r){const s=e.oxw().$implicit;e.Q6J("src",null==s?null:s.image_path,e.LSH)}}const B=function(r){return["/key-holders",r]};function we(r,i){if(1&r&&(e.TgZ(0,"div",9)(1,"div",10),e.YNc(2,ke,1,1,"img",11),e.qZA(),e.TgZ(3,"h6")(4,"a",12),e._uU(5),e.qZA()()()),2&r){const s=i.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(5,B,null==s?null:s.id)),e.xp6(1),e.Q6J("ngIf",null==s?null:s.image_path),e.xp6(2),e.Q6J("routerLink",e.VKq(7,B,null==s?null:s.id)),e.xp6(1),e.AsE("",null==s?null:s.first_name," ",null==s?null:s.last_name,"")}}function Me(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div",14),e.NdJ("click",function(n){e.CHM(s);const o=e.oxw(2);return e.KtG(o.openKeyHolderPopup(n))}),e._UZ(1,"div",15),e.qZA()}}function Te(r,i){if(1&r&&(e.TgZ(0,"div",6),e.YNc(1,we,6,9,"div",7),e.YNc(2,Me,2,0,"div",8),e.qZA()),2&r){const s=e.oxw();e.xp6(1),e.Q6J("ngForOf",s.keyholders),e.xp6(1),e.Q6J("ngIf",!s.isKeyHolder)}}let xe=(()=>{const i=class{constructor(t,n,o,a){this.keyHolderService=t,this.ngbModalService=n,this.sharedService=o,this.soundService=a,this.keyholders=[],this.isKeyHolder=this.sharedService.isKeyHolder()}ngOnInit(){this.getKeyHolders()}getKeyHolders(){this.keyHolderService.getKeyHolders().subscribe({next:t=>{t?.data&&t?.data.length&&(this.keyholders=t.data.map(n=>({...n,image_path:n?.image_path?m.X_+n?.image_path?.slice(1):null})))},error:t=>{this.sharedService.showToast({classname:"error",text:t?.error?.message})}})}openKeyHolderPopup(t){this.soundService.playClickSound();const n=this.ngbModalService.open(Ce,{size:"lg",backdrop:"static",keyboard:!1,centered:!1});n.componentInstance.data={name:t?.id?"Edit":"Add",item:t?.id?t:null},n.result.then(o=>{this.getKeyHolders()}).catch(o=>console.log(o))}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(N),e.Y36(h.FF),e.Y36(v.F),e.Y36(w.y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-key-holders"]],decls:3,vars:2,consts:[[1,"container","key-holders","p-0"],["class","text-center my-5",4,"ngIf"],["class","row m-0",4,"ngIf"],[1,"text-center","my-5"],[1,"text-muted"],[1,"btn","btn-primary",3,"click"],[1,"row","m-0"],["class","col-6 col-md-4 col-lg-3 col-xl-2 p-3 pointer",4,"ngFor","ngForOf"],["class","col-6 col-md-4 col-lg-3 col-xl-2 p-3 pointer",3,"click",4,"ngIf"],[1,"col-6","col-md-4","col-lg-3","col-xl-2","p-3","pointer"],[1,"key-holder-pic",3,"routerLink"],[3,"src",4,"ngIf"],[1,"text-decoration-none","text-link",3,"routerLink"],[3,"src"],[1,"col-6","col-md-4","col-lg-3","col-xl-2","p-3","pointer",3,"click"],[1,"key-holder-pic","add-keyholder"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Ze,7,0,"div",1),e.YNc(2,Te,3,2,"div",2),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",0===(null==o.keyholders?null:o.keyholders.length)),e.xp6(1),e.Q6J("ngIf",o.keyholders.length>0))},dependencies:[u.sg,u.O5,f.rH],styles:['.key-holders[_ngcontent-%COMP%]   .key-holder-pic[_ngcontent-%COMP%]{width:100%;aspect-ratio:1/1;border-radius:20px;overflow:hidden;margin-bottom:8px;background-color:#fbab7e;background-image:linear-gradient(62deg,#FBAB7E 0%,#F7CE68 100%);position:relative;background-repeat:no-repeat;background-size:auto;background-position:center}.key-holders[_ngcontent-%COMP%]   .key-holder-pic[_ngcontent-%COMP%]:before{content:"";position:absolute;background:url(person.6f00489603ff64c1.svg);inset:0;z-index:122;background-repeat:no-repeat;background-position:center}.key-holders[_ngcontent-%COMP%]   .key-holder-pic[_ngcontent-%COMP%]:hover{background-color:#fff;background:url(person-hover.bb263696f2321cdf.svg);background-repeat:no-repeat;background-size:auto;background-position:center;border:2px solid #FFC000}.key-holders[_ngcontent-%COMP%]   .key-holder-pic[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.3)}.key-holders[_ngcontent-%COMP%]   .key-holder-pic[_ngcontent-%COMP%]:hover:before{content:"";background:none}.key-holders[_ngcontent-%COMP%]   .key-holder-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease;width:100%}.key-holders[_ngcontent-%COMP%]   .add-keyholder[_ngcontent-%COMP%]{background-color:#fbab7e;background-image:linear-gradient(62deg,#FBAB7E 0%,#F7CE68 100%);background-repeat:no-repeat;background-size:auto;background-position:center}.key-holders[_ngcontent-%COMP%]   .add-keyholder[_ngcontent-%COMP%]:hover{background:url(add-keyholder-hover.5e61527f89321c4f.svg);background-repeat:no-repeat;background-size:auto;background-position:center}.key-holders[_ngcontent-%COMP%]   .add-keyholder[_ngcontent-%COMP%]:before{content:"";position:absolute;background:url(add-keyholder.209414c401294f43.svg);inset:0;z-index:122;background-repeat:no-repeat;background-position:center}']}),r})(),Oe=(()=>{const i=class{constructor(t,n,o,a){this.activeModal=t,this.formBuilder=n,this.memoriesService=o,this.sharedService=a}ngOnInit(){this.addFolderForm=this.formBuilder.group({folder_name:["",[l.kI.required,l.kI.maxLength(25)]]})}submit(){this.addFolderForm.invalid?console.log("Form invalid"):this.memoriesService.addUpdateMemoryFolders(this.addFolderForm.value).subscribe({next:n=>{this.sharedService.showToast({classname:"success",text:n?.message}),this.closeModal()},error:n=>{this.sharedService.showToast({classname:"error",text:n?.error?.message})}})}closeModal(){this.activeModal.close(null)}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(h.Kz),e.Y36(l.QS),e.Y36(A),e.Y36(v.F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-manage-memory-folder"]],decls:14,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn",3,"click"],["src","../../../../assets/icons/form/close-lg.svg"],[3,"formGroup","submit"],[1,"modal-body"],[1,"mb-3"],["for","name",1,"col-form-label"],["type","text","placeholder","Folder Name","id","name","formControlName","folder_name",1,"form-control"],[1,"modal-footer","d-flex","justify-content-end"],[1,"btn","submit-button"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Add Memory Folder"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.closeModal()}),e._UZ(4,"img",3),e.qZA()(),e.TgZ(5,"form",4),e.NdJ("submit",function(){return o.submit()}),e.TgZ(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9,"Folder Name"),e.qZA(),e._UZ(10,"input",8),e.qZA()(),e.TgZ(11,"div",9)(12,"button",10),e._uU(13," Save "),e.qZA()()()),2&n&&(e.xp6(5),e.Q6J("formGroup",o.addFolderForm))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]}),r})();function Fe(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"span",2),e.NdJ("click",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.showEdit=!0)}),e._uU(1),e.qZA()}if(2&r){const s=e.oxw();e.xp6(1),e.hij(" ",s.text,"\n")}}function Ae(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"input",3),e.NdJ("blur",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.onSubmit())})("keydown.enter",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.onSubmit())})("ngModelChange",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.text=n)}),e.qZA()}if(2&r){const s=e.oxw();e.Q6J("ngModel",s.text)}}let K=(()=>{const i=class{constructor(){this.text="",this.newValue=new e.vpe,this.showEdit=!1}onSubmit(){this.showEdit=!1,this.newValue.emit(this.text)}};let r=i;return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-editable-heading"]],inputs:{text:"text"},outputs:{newValue:"newValue"},standalone:!0,features:[e.jDz],decls:2,vars:2,consts:[[3,"click",4,"ngIf"],["class","editable-text-input","type","text",3,"ngModel","blur","keydown.enter","ngModelChange",4,"ngIf"],[3,"click"],["type","text",1,"editable-text-input",3,"ngModel","blur","keydown.enter","ngModelChange"]],template:function(n,o){1&n&&(e.YNc(0,Fe,2,1,"span",0),e.YNc(1,Ae,1,1,"input",1)),2&n&&(e.Q6J("ngIf",!o.showEdit),e.xp6(1),e.Q6J("ngIf",o.showEdit))},dependencies:[u.ez,u.O5,l.u5,l.Fj,l.JJ,l.On],styles:[".editable-text-input[_ngcontent-%COMP%]{max-width:-webkit-fill-available}"]}),r})();function Pe(r,i){if(1&r&&e._UZ(0,"img",9),2&r){const s=e.oxw().$implicit;e.Q6J("src",null==s?null:s.image_path,e.LSH)}}const Ue=function(r){return["/memories/folder",r]};function qe(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div",4)(1,"div",5),e.YNc(2,Pe,1,1,"img",6),e.qZA(),e.TgZ(3,"h6")(4,"a",7)(5,"app-editable-heading",8),e.NdJ("newValue",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.renameFolder(n))}),e.qZA()()()()}if(2&r){const s=i.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,Ue,null==s?null:s.id)),e.xp6(1),e.Q6J("ngIf",null==s?null:s.image_path),e.xp6(3),e.Q6J("text",s.folder_name)}}function Ne(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div",4)(1,"div",10),e.NdJ("click",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.openMemoryFolderPopup())}),e.qZA()()}}let Ie=(()=>{const i=class{constructor(t,n,o){this.memoriesService=t,this.ngbModalService=n,this.sharedService=o,this.memoryFolders=[],this.isKeyHolder=this.sharedService.isKeyHolder(),this.addCardItems=[m.NS.MEMORIES]}ngOnInit(){this.getMemoriesFolderList()}getMemoriesFolderList(){this.memoriesService.getMemoriesFolders().subscribe({next:t=>{this.memoryFolders=t.data},error:t=>{this.sharedService.showToast({classname:"error",text:t?.error?.message})}})}openMemoryFolderPopup(){this.ngbModalService.open(Oe,{size:"md",backdrop:"static",keyboard:!1,centered:!1}).result.then(n=>{this.getMemoriesFolderList()}).catch(n=>console.log(n))}renameFolder(t){this.memoryFolders.find(n=>n.folder_name==t)?this.sharedService.showToast({classname:"error",text:"Folder name already exists"}):console.log(t)}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(A),e.Y36(h.FF),e.Y36(v.F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-memories"]],decls:4,vars:2,consts:[[1,"container","memory-folders","p-0"],[1,"row","m-0"],["class","col-6 col-md-4 col-lg-3 col-xl-2 p-3",4,"ngFor","ngForOf"],["class","col-6 col-md-4 col-lg-3 col-xl-2 p-3",4,"ngIf"],[1,"col-6","col-md-4","col-lg-3","col-xl-2","p-3"],[1,"memory-folders-pic","pointer",3,"routerLink"],[3,"src",4,"ngIf"],[1,"text-decoration-none","text-link"],[3,"text","newValue"],[3,"src"],[1,"memory-folders-pic","add-memory-folder","pointer",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,qe,6,5,"div",2),e.YNc(3,Ne,2,0,"div",3),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("ngForOf",o.memoryFolders),e.xp6(1),e.Q6J("ngIf",!o.isKeyHolder))},dependencies:[u.sg,u.O5,K,f.rH],styles:['.memory-folders[_ngcontent-%COMP%]   .memory-folders-pic[_ngcontent-%COMP%]{width:100%;aspect-ratio:1/1;border-radius:20px;overflow:hidden;margin-bottom:8px;background:url(person.6f00489603ff64c1.svg);background-color:#fbab7e;background-image:linear-gradient(62deg,#FBAB7E 0%,#F7CE68 100%);position:relative;background-repeat:no-repeat;background-size:auto;background-position:center}.memory-folders[_ngcontent-%COMP%]   .memory-folders-pic[_ngcontent-%COMP%]:before{content:"";position:absolute;background:url(person.6f00489603ff64c1.svg);inset:0;z-index:122;background-repeat:no-repeat;background-position:center}.memory-folders[_ngcontent-%COMP%]   .memory-folders-pic[_ngcontent-%COMP%]:hover{background-color:#fff;background:url(person-hover.bb263696f2321cdf.svg);background-repeat:no-repeat;background-size:auto;background-position:center;border:2px solid #FFC000}.memory-folders[_ngcontent-%COMP%]   .memory-folders-pic[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.3)}.memory-folders[_ngcontent-%COMP%]   .memory-folders-pic[_ngcontent-%COMP%]:hover:before{content:"";background:none}.memory-folders[_ngcontent-%COMP%]   .memory-folders-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease;width:100%}.memory-folders[_ngcontent-%COMP%]   .add-memory-folder[_ngcontent-%COMP%]{background-color:#fbab7e;background-image:linear-gradient(62deg,#FBAB7E 0%,#F7CE68 100%);background-repeat:no-repeat;background-size:auto;background-position:center}.memory-folders[_ngcontent-%COMP%]   .add-memory-folder[_ngcontent-%COMP%]:hover{background:url(add-keyholder-hover.5e61527f89321c4f.svg);background-repeat:no-repeat;background-size:auto;background-position:center}.memory-folders[_ngcontent-%COMP%]   .add-memory-folder[_ngcontent-%COMP%]:before{content:"";position:absolute;background:url(add-keyholder.209414c401294f43.svg);inset:0;z-index:122;background-repeat:no-repeat;background-position:center}']}),r})(),T=(()=>{const i=class{constructor(t){this.activeModal=t}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(h.Kz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-confirmation-modal"]],inputs:{data:"data"},standalone:!0,features:[e.jDz],decls:12,vars:2,consts:[[1,"confirm"],[1,"modal-header","ps-3","ps-md-4"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn",3,"click"],["src","../../../assets/icons/form/close-lg.svg"],[1,"modal-body","mx-3","mx-md-2","mb-5"],[1,"fs-18"],[1,"modal-footer","px-3","px-md-4"],["type","button",1,"btn","submit-button",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"h4",2),e._uU(3),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return o.activeModal.dismiss()}),e._UZ(5,"img",4),e.qZA()(),e.TgZ(6,"div",5)(7,"p",6),e._uU(8),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return o.activeModal.close()}),e._uU(11," Done "),e.qZA()()()),2&n&&(e.xp6(3),e.hij(" ",(null==o.data?null:o.data.title)||"Confirmation"," "),e.xp6(5),e.hij(" ",(null==o.data?null:o.data.text)||"I have reviewed the application details and found it to be correct."," "))},dependencies:[u.ez]}),r})();function Se(r,i){if(1&r&&(e.TgZ(0,"h5",6),e.ALo(1,"date"),e._uU(2),e.ALo(3,"date"),e.qZA()),2&r){const s=i.$implicit;e.s9C("routerLink",e.xi3(1,2,null==s[0]?null:s[0].note_date,"YYYY")),e.xp6(2),e.hij(" ",e.xi3(3,5,null==s[0]?null:s[0].note_date,"YYYY")," ")}}function Ye(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",4),e.YNc(2,Se,4,8,"h5",5),e.qZA(),e.BQk()),2&r){const s=e.oxw();e.xp6(2),e.Q6J("ngForOf",s.notesListByYear)}}function Je(r,i){1&r&&(e.TgZ(0,"div",7),e._uU(1," No records found "),e.qZA())}let Le=(()=>{const i=class{constructor(t,n,o,a){this.notesService=t,this.ngbModalService=n,this.sharedService=o,this.router=a,this.notes=[],this.notesListByYear=[],this.addCardItems=[m.NS.NOTES],this.pageOptions={pageSize:20,page:1,pagination:!1}}ngOnInit(){this.getNotes()}getNotes(){const t=(0,m._A)(this.pageOptions);this.notesService.getNotes(t).subscribe({next:n=>{this.notes=n.data,this.notes&&this.notes.length&&this.arrangeNotesByYear(n.data)},error:n=>{this.sharedService.showToast({classname:"error",text:n?.error?.message})}})}arrangeNotesByYear(t){this.notesListByYear=[];let n=new Date(t[0].note_date).getFullYear(),o=new Date(t[t.length-1].note_date).getFullYear();for(;n>=o;){const a=this.notes.filter(c=>n==new Date(c.note_date).getFullYear());a.length&&this.notesListByYear.push(a),n--}}openNotePopup(t){const n=this.ngbModalService.open(U,{size:"md",backdrop:"static",keyboard:!1,centered:!1});n.componentInstance.data={name:t?.id?"Edit":"Add",item:t?.id?t:null},n.result.then(o=>{this.getNotes()}).catch(o=>console.log(o))}openDeleteDialog(t){const n=this.ngbModalService.open(T,{size:"md",backdrop:"static",keyboard:!1,centered:!1});n.componentInstance.data={title:"Delete Note",text:"Are you sure you want to delete this note? This action is permanent and cannot be undone"},n.result.then(o=>{this.deleteNote(t.id)}).catch(o=>console.log(t))}deleteNote(t){this.notesService.deleteNote(t).subscribe({next:n=>{this.sharedService.showToast({classname:"success",text:n?.message}),this.getNotes()},error:n=>{this.sharedService.showToast({classname:"error",text:n?.error?.message})}})}seeMore(t){this.router.navigate([`/notes/${t}`])}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(P),e.Y36(h.FF),e.Y36(v.F),e.Y36(f.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-notes"]],decls:5,vars:3,consts:[[1,"container","notes","p-0"],[3,"items","label"],[4,"ngIf","ngIfElse"],["noRecords",""],[1,"d-flex","gap-3","py-4"],["class","py-3 px-5 link rounded pointer",3,"routerLink",4,"ngFor","ngForOf"],[1,"py-3","px-5","link","rounded","pointer",3,"routerLink"],[1,"text-center","my-4"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"app-add-items-card",1),e.NdJ("label",function(c){return o.openNotePopup(c)}),e.qZA(),e.YNc(2,Ye,3,1,"ng-container",2),e.YNc(3,Je,2,0,"ng-template",null,3,e.W1O),e.qZA()),2&n){const a=e.MAs(4);e.xp6(1),e.Q6J("items",o.addCardItems),e.xp6(1),e.Q6J("ngIf",null==o.notes?null:o.notes.length)("ngIfElse",a)}},dependencies:[u.sg,u.O5,x,f.rH,u.uU],styles:[".notes[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   h5.link[_ngcontent-%COMP%]{color:#fff;background-color:#fbab7e;background-image:linear-gradient(62deg,#FBAB7E 0%,#F7CE68 100%)}.notes[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   h5.link[_ngcontent-%COMP%]:hover{background:none;border:1px solid #FBAB7E;background-color:#fff;color:#fbab7e}"]}),r})(),He=(()=>{const i=class{};let r=i;return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-assets"]],decls:2,vars:0,template:function(n,o){1&n&&(e.TgZ(0,"p"),e._uU(1,"assets works!"),e.qZA())}}),r})();const Qe=function(r){return{active:r}};function Ee(r,i){if(1&r){const s=e.EpF();e.ynx(0),e.TgZ(1,"div",11),e.NdJ("click",function(){const o=e.CHM(s).$implicit,a=e.oxw(2);return e.KtG(a.showDetails(o))}),e.TgZ(2,"div",12),e._UZ(3,"div",13),e.TgZ(4,"div",14)(5,"h6",15),e._uU(6),e._UZ(7,"br"),e.TgZ(8,"small"),e._uU(9),e.qZA()()()(),e.TgZ(10,"div",16),e._uU(11),e.qZA()(),e.BQk()}if(2&r){const s=i.$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(4,Qe,(null==s?null:s.id)==(null==t.credentailDetails?null:t.credentailDetails.id))),e.xp6(5),e.hij(" ",null==s?null:s.domain_name," "),e.xp6(3),e.Oqu(null==s?null:s.username),e.xp6(2),e.Oqu(null==s?null:s.last_updated)}}function De(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1," ******** "),e.qZA())}function Be(r,i){if(1&r&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&r){const s=e.oxw(3);e.xp6(1),e.hij(" ",null==s.credentailDetails?null:s.credentailDetails.password," ")}}function Ke(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"div",12),e._UZ(3,"div",19),e.TgZ(4,"div",20)(5,"h6",21),e._uU(6),e.qZA(),e.TgZ(7,"small",22),e._uU(8),e.qZA()()(),e.TgZ(9,"div",23)(10,"img",24),e.NdJ("click",function(){e.CHM(s);const n=e.oxw(2);return e.KtG(n.openDeleteDialog(n.credentailDetails.id))}),e.qZA(),e.TgZ(11,"a",25),e._UZ(12,"img",26),e.qZA(),e._UZ(13,"img",27),e.TgZ(14,"img",28),e.NdJ("click",function(){e.CHM(s);const n=e.oxw(2);return e.KtG(n.openPasswordDialog(n.credentailDetails))}),e.qZA()()(),e.TgZ(15,"div",29)(16,"h6",30),e._uU(17,"Website"),e.qZA(),e.TgZ(18,"div",31),e._uU(19),e.qZA(),e.TgZ(20,"h6",30),e._uU(21,"Username"),e.qZA(),e.TgZ(22,"div",31),e._uU(23),e.qZA(),e.TgZ(24,"h6",30),e._uU(25,"Password"),e.qZA(),e.TgZ(26,"div",18),e.YNc(27,De,2,0,"div",32),e.YNc(28,Be,2,1,"div",32),e.TgZ(29,"div",23)(30,"img",33),e.NdJ("click",function(){e.CHM(s);const n=e.oxw(2);return e.KtG(n.isPasswordVisible=!n.isPasswordVisible)}),e.qZA(),e.TgZ(31,"img",34),e.NdJ("click",function(){e.CHM(s);const n=e.oxw(2);return e.KtG(n.copyPassword(null==n.credentailDetails?null:n.credentailDetails.password))}),e.qZA()()()()()}if(2&r){const s=e.oxw(2);e.xp6(6),e.Oqu(s.credentailDetails.domain_name),e.xp6(2),e.Oqu(s.credentailDetails.domain_url),e.xp6(3),e.Q6J("href",s.credentailDetails.domain_url,e.LSH),e.xp6(8),e.Oqu(null==s.credentailDetails?null:s.credentailDetails.domain_url),e.xp6(4),e.Oqu(null==s.credentailDetails?null:s.credentailDetails.username),e.xp6(4),e.Q6J("ngIf",!s.isPasswordVisible),e.xp6(1),e.Q6J("ngIf",s.isPasswordVisible),e.xp6(2),e.Q6J("src",s.isPasswordVisible?"../../../assets/icons/form/eye-show.svg":"../../../assets/icons/form/eye-hide.svg",e.LSH)}}function ze(r,i){if(1&r&&(e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"h5"),e._uU(4,"All Items"),e.qZA(),e.TgZ(5,"h6"),e._uU(6,"Last Used"),e.qZA()(),e.TgZ(7,"div",7),e.YNc(8,Ee,12,6,"ng-container",8),e.qZA()(),e.TgZ(9,"div",9),e.YNc(10,Ke,32,8,"div",10),e.qZA()()),2&r){const s=e.oxw();e.xp6(8),e.Q6J("ngForOf",s.credentials),e.xp6(2),e.Q6J("ngIf",s.credentailDetails)}}function je(r,i){1&r&&(e.TgZ(0,"div",35),e._uU(1," No records found "),e.qZA())}let z=(()=>{const i=class{constructor(t,n,o){this.ngbModalService=t,this.passwordService=n,this.sharedService=o,this.addCardItems=[m.NS.PASSWORDS],this.credentials=[],this.credentailDetails=void 0,this.isPasswordVisible=!1}ngOnInit(){this.getCredentials()}getCredentials(){this.passwordService.getCredentials({pagination:!1}).subscribe({next:t=>{this.credentials=t.data},error:t=>{this.sharedService.showToast({classname:"error",text:t?.error?.message})}})}showDetails(t){this.credentailDetails=t,this.isPasswordVisible=!1}copyPassword(t){navigator.clipboard.writeText(t).then(()=>{this.sharedService.showToast({classname:"success",text:"Copied to clipboard"})})}openPasswordDialog(t){const n=this.ngbModalService.open(L,{size:"md",backdrop:"static",keyboard:!1,centered:!1});n.componentInstance.data={name:t?.id?"Edit":"Add",item:t?.id?t:null},n.result.then(o=>{o&&(this.credentailDetails=o),this.getCredentials()}).catch(o=>console.log(t))}openDeleteDialog(t){const n=this.ngbModalService.open(T,{size:"md",backdrop:"static",keyboard:!1,centered:!1});n.componentInstance.data={title:"Delete Password",text:"Are you sure you want to delete this password? This action is permanent and cannot be undone"},n.result.then(o=>{this.deleteCredential(t)}).catch(o=>console.log(t))}deleteCredential(t){this.passwordService.deleteCredentials(t).subscribe({next:n=>{this.sharedService.showToast({classname:"success",text:n?.message}),this.getCredentials()},error:n=>{this.sharedService.showToast({classname:"error",text:n?.error?.message})}})}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(h.FF),e.Y36(J),e.Y36(v.F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-passwords"]],decls:5,vars:3,consts:[[1,"container","credentials","p-0"],[3,"items","label"],["class","row my-4",4,"ngIf","ngIfElse"],["noRecords",""],[1,"row","my-4"],[1,"col-sm-12","col-md-4","col-lg-5","pe-2","pe-lg-5"],[1,"d-flex","justify-content-between","align-items-end"],[1,"credential-list"],[4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-8","col-lg-7","ps-2","ps-lg-5"],["class","credential-details",4,"ngIf"],[1,"d-flex","justify-content-between","p-3","list-item",3,"ngClass","click"],[1,"d-flex"],[1,"list-logo","me-3"],[1,"list-desc","my-auto"],[1,"m-0"],[1,"list-last-used","my-auto"],[1,"credential-details"],[1,"d-flex","justify-content-between"],[1,"details-logo","me-3"],[1,"d-flex","flex-column","justify-content-end"],[1,"text-white","my-1"],[1,"bg-yellow","text-blue","border-radius-2","p-1","rounded"],[1,"d-flex","align-items-center","gap-2","gap-md-3","gap-lg-4"],["src","../../../assets/icons/form/delete.svg",1,"pointer",3,"click"],["target","_blank",3,"href"],["src","../../../assets/icons/form/redirect.svg"],["src","../../../assets/icons/form/fav.svg",1,"pointer"],["src","../../../assets/icons/form/edit.svg",1,"pointer",3,"click"],[1,"text-white","py-5"],[1,"text-gray"],[1,"mb-4"],[4,"ngIf"],["width","24",1,"pointer",3,"src","click"],["src","../../../assets/icons/form/copy.svg",1,"pointer",3,"click"],[1,"text-center","my-4"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"app-add-items-card",1),e.NdJ("label",function(c){return o.openPasswordDialog(c)}),e.qZA(),e.YNc(2,ze,11,2,"div",2),e.YNc(3,je,2,0,"ng-template",null,3,e.W1O),e.qZA()),2&n){const a=e.MAs(4);e.xp6(1),e.Q6J("items",o.addCardItems),e.xp6(1),e.Q6J("ngIf",o.credentials&&(null==o.credentials?null:o.credentials.length))("ngIfElse",a)}},dependencies:[u.mk,u.sg,u.O5,x],styles:[".credentials[_ngcontent-%COMP%]   .credential-list[_ngcontent-%COMP%]{height:400px;overflow-y:hidden}.credentials[_ngcontent-%COMP%]   .credential-list[_ngcontent-%COMP%]:hover{overflow-y:auto}.credentials[_ngcontent-%COMP%]   .credential-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.credentials[_ngcontent-%COMP%]   .credential-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:8px}.credentials[_ngcontent-%COMP%]   .credential-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:8px}.credentials[_ngcontent-%COMP%]   .credential-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.credentials[_ngcontent-%COMP%]   .credential-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{border-radius:8px}.credentials[_ngcontent-%COMP%]   .credential-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{background:#FFC000;color:#fff}.credentials[_ngcontent-%COMP%]   .credential-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .list-logo[_ngcontent-%COMP%]{width:48px;height:48px;background:#1F4E79;border-radius:4px}.credentials[_ngcontent-%COMP%]   .credential-list[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background:#FFC000;color:#fff}.credentials[_ngcontent-%COMP%]   .credential-details[_ngcontent-%COMP%]{background:#1F4E79;padding:24px 48px;border-radius:24px}.credentials[_ngcontent-%COMP%]   .credential-details[_ngcontent-%COMP%]   .details-logo[_ngcontent-%COMP%]{width:80px;height:80px;background:#fff;border-radius:16px}"]}),r})(),I=(()=>{const i=class extends M.b{constructor(){super(...arguments),this.baseUrl=m.X_}getObituaryInfo(t=""){return this.get(`${this.baseUrl}/obituary-info?${t}`)}getObituaryInfoById(t){return this.get(`${this.baseUrl}/obituary-info/${t}`)}createObituaryInfo(t){return this.post(`${this.baseUrl}/obituary-info`,t)}getObituaries(t=""){return this.get(`${this.baseUrl}/obituaries?${t||""}`)}updateObituaryInfo(t,n){return this.put(`${this.baseUrl}/obituary-info/${n}`,t)}deleteObituaryInfo(t){return this.delete(`${this.baseUrl}/obituary-info/${t}`)}};let r=i;return i.\u0275fac=function(){let t;return function(o){return(t||(t=e.n5z(i)))(o||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),r})();function $e(r,i){1&r&&(e.TgZ(0,"div",33),e._uU(1," Birth name is required "),e.qZA())}function Ge(r,i){1&r&&(e.TgZ(0,"div",33),e._uU(1," Current name is required "),e.qZA())}function Re(r,i){1&r&&(e.TgZ(0,"div",33),e._uU(1," Birth date is required "),e.qZA())}function Ve(r,i){1&r&&(e.TgZ(0,"div",33),e._uU(1," Birth place is required "),e.qZA())}function Xe(r,i){1&r&&(e.TgZ(0,"div",33),e._uU(1," Parents names are required "),e.qZA())}function We(r,i){1&r&&(e.TgZ(0,"div",33),e._uU(1," Child name is required "),e.qZA())}function et(r,i){1&r&&(e.TgZ(0,"div",33),e._uU(1," Date of birth is required "),e.qZA())}function tt(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div",34)(1,"div",35),e._UZ(2,"input",36),e.YNc(3,We,2,0,"div",11),e.qZA(),e.TgZ(4,"div",35),e._UZ(5,"input",37),e.YNc(6,et,2,0,"div",11),e.qZA(),e.TgZ(7,"div",38)(8,"button",39),e.NdJ("click",function(){const o=e.CHM(s).index,a=e.oxw();return e.KtG(a.removeChild(o))}),e._uU(9," Remove "),e.qZA()()()}if(2&r){const s=i.$implicit;let n,o,a,c;e.Q6J("formGroupName",i.index),e.xp6(2),e.ekj("is-invalid",(null==(n=s.get("name"))?null:n.touched)&&(null==(n=s.get("name"))?null:n.invalid)),e.xp6(1),e.Q6J("ngIf",(null==(o=s.get("name"))||null==o.errors?null:o.errors.required)&&(null==(o=s.get("name"))?null:o.touched)),e.xp6(2),e.ekj("is-invalid",(null==(a=s.get("dateOfBirth"))?null:a.touched)&&(null==(a=s.get("dateOfBirth"))?null:a.invalid)),e.xp6(1),e.Q6J("ngIf",(null==(c=s.get("dateOfBirth"))||null==c.errors?null:c.errors.required)&&(null==(c=s.get("dateOfBirth"))?null:c.touched))}}function nt(r,i){1&r&&(e.TgZ(0,"div",33),e._uU(1," Sibling name is required "),e.qZA())}function ot(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div",34)(1,"div",35),e._UZ(2,"input",36),e.YNc(3,nt,2,0,"div",11),e.qZA(),e.TgZ(4,"div",35)(5,"div",40),e._UZ(6,"input",41),e.TgZ(7,"label",42),e._uU(8,"Is Alive"),e.qZA()()(),e.TgZ(9,"div",38)(10,"button",39),e.NdJ("click",function(){const o=e.CHM(s).index,a=e.oxw();return e.KtG(a.removeSibling(o))}),e._uU(11," Remove "),e.qZA()()()}if(2&r){const s=i.$implicit;let n,o;e.Q6J("formGroupName",i.index),e.xp6(2),e.ekj("is-invalid",(null==(n=s.get("name"))?null:n.touched)&&(null==(n=s.get("name"))?null:n.invalid)),e.xp6(1),e.Q6J("ngIf",(null==(o=s.get("name"))||null==o.errors?null:o.errors.required)&&(null==(o=s.get("name"))?null:o.touched))}}let S=(()=>{const i=class{constructor(t,n,o,a,c){this.activeModal=t,this.formBuilder=n,this.obituaryService=o,this.sharedService=a,this.soundService=c,this.data={}}ngOnInit(){this.obituaryForm=this.formBuilder.group({birth_name:["",[l.kI.required]],married_name:[""],current_name:["",[l.kI.required]],birth_date:[new Date,[l.kI.required]],birth_place:["",[l.kI.required]],parent_names:["",[l.kI.required]],spouse_name:[""],children:this.formBuilder.array([]),siblings:this.formBuilder.array([])}),this.data?.item&&this.patchForm()}patchForm(){this.soundService.playClickSound(),this.obituaryForm.patchValue({birth_name:this.data.item.birth_name,married_name:this.data.item.married_name,current_name:this.data.item.current_name,birth_date:this.data.item.birth_date,birth_place:this.data.item.birth_place,parent_names:this.data.item.parent_names,spouse_name:this.data.item.spouse_name}),this.data.item.children?.forEach(t=>this.addChild(t)),this.data.item.siblings?.forEach(t=>this.addSibling(t)),this.obituaryForm.updateValueAndValidity()}addChild(t){const n=this.formBuilder.group({name:[t?.name||"",l.kI.required],dateOfBirth:[t?.dateOfBirth||"",l.kI.required]});this.childrenArray.push(n)}removeChild(t){this.childrenArray.removeAt(t)}addSibling(t){const n=this.formBuilder.group({name:[t?.name||"",l.kI.required],isAlive:[t?.isAlive||!1]});this.siblingsArray.push(n)}removeSibling(t){this.siblingsArray.removeAt(t)}get childrenArray(){return this.obituaryForm.get("children")}get siblingsArray(){return this.obituaryForm.get("siblings")}closeModal(){this.activeModal.close(null)}submit(){if(this.soundService.playClickSound(),this.obituaryForm.invalid)return void Object.keys(this.obituaryForm.controls).forEach(o=>{const a=this.obituaryForm.get(o);a?.invalid&&a.markAsTouched()});const t=this.obituaryForm.value;(this.data?.item?.id?this.obituaryService.updateObituaryInfo(t,this.data.item.id):this.obituaryService.createObituaryInfo(t)).subscribe({next:o=>{this.sharedService.showToast({classname:"success",text:o?.message}),this.closeModal()},error:o=>{this.sharedService.showToast({classname:"error",text:o?.error?.message})}})}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(h.Kz),e.Y36(l.QS),e.Y36(I),e.Y36(v.F),e.Y36(w.y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-manage-obituary"]],inputs:{data:"data"},decls:71,vars:21,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn",3,"click"],["src","../../../../assets/icons/form/close-lg.svg"],[3,"formGroup","submit"],[1,"modal-body"],[1,"row","mb-3"],[1,"col-md-4"],[1,"form-group"],["for","birth_name",1,"col-form-label"],["type","text","id","birth_name","formControlName","birth_name",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","married_name",1,"col-form-label"],["type","text","id","married_name","formControlName","married_name",1,"form-control"],["for","current_name",1,"col-form-label"],["type","text","id","current_name","formControlName","current_name",1,"form-control"],["for","birth_date",1,"col-form-label"],["type","date","id","birth_date","formControlName","birth_date",1,"form-control"],["for","birth_place",1,"col-form-label"],["type","text","id","birth_place","formControlName","birth_place",1,"form-control"],["for","parent_names",1,"col-form-label"],["type","text","id","parent_names","formControlName","parent_names",1,"form-control"],["for","spouse_name",1,"col-form-label"],["type","text","id","spouse_name","formControlName","spouse_name",1,"form-control"],[1,"card","mb-3"],[1,"card-header","d-flex","justify-content-between","align-items-center"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[1,"card-body"],["formArrayName","children"],["class","row mb-2",3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","siblings"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"invalid-feedback"],[1,"row","mb-2",3,"formGroupName"],[1,"col-md-5"],["type","text","placeholder","Name","formControlName","name",1,"form-control"],["type","date","formControlName","dateOfBirth",1,"form-control"],[1,"col-md-2"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"form-check","mt-2"],["type","checkbox","formControlName","isAlive",1,"form-check-input"],[1,"form-check-label"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.closeModal()}),e._UZ(4,"img",3),e.qZA()(),e.TgZ(5,"form",4),e.NdJ("submit",function(){return o.submit()}),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),e._uU(11,"Birth Name*"),e.qZA(),e._UZ(12,"input",10),e.YNc(13,$e,2,0,"div",11),e.qZA()(),e.TgZ(14,"div",7)(15,"div",8)(16,"label",12),e._uU(17,"Married Name"),e.qZA(),e._UZ(18,"input",13),e.qZA()(),e.TgZ(19,"div",7)(20,"div",8)(21,"label",14),e._uU(22,"Current Name*"),e.qZA(),e._UZ(23,"input",15),e.YNc(24,Ge,2,0,"div",11),e.qZA()()(),e.TgZ(25,"div",6)(26,"div",7)(27,"div",8)(28,"label",16),e._uU(29,"Birth Date*"),e.qZA(),e._UZ(30,"input",17),e.YNc(31,Re,2,0,"div",11),e.qZA()(),e.TgZ(32,"div",7)(33,"div",8)(34,"label",18),e._uU(35,"Birth Place*"),e.qZA(),e._UZ(36,"input",19),e.YNc(37,Ve,2,0,"div",11),e.qZA()(),e.TgZ(38,"div",7)(39,"div",8)(40,"label",20),e._uU(41,"Parents Names*"),e.qZA(),e._UZ(42,"input",21),e.YNc(43,Xe,2,0,"div",11),e.qZA()()(),e.TgZ(44,"div",6)(45,"div",7)(46,"div",8)(47,"label",22),e._uU(48,"Spouse Name"),e.qZA(),e._UZ(49,"input",23),e.qZA()()(),e.TgZ(50,"div",24)(51,"div",25)(52,"h5"),e._uU(53,"Children"),e.qZA(),e.TgZ(54,"button",26),e.NdJ("click",function(){return o.addChild()}),e._uU(55," Add Child "),e.qZA()(),e.TgZ(56,"div",27)(57,"div",28),e.YNc(58,tt,10,7,"div",29),e.qZA()()(),e.TgZ(59,"div",24)(60,"div",25)(61,"h5"),e._uU(62,"Siblings"),e.qZA(),e.TgZ(63,"button",26),e.NdJ("click",function(){return o.addSibling()}),e._uU(64," Add Sibling "),e.qZA()(),e.TgZ(65,"div",27)(66,"div",30),e.YNc(67,ot,12,4,"div",29),e.qZA()()()(),e.TgZ(68,"div",31)(69,"button",32),e._uU(70),e.qZA()()()),2&n){let a,c,d,p,g,b,_,C,Z,F;e.xp6(2),e.hij("",o.data.name," Obituary Information"),e.xp6(3),e.Q6J("formGroup",o.obituaryForm),e.xp6(7),e.ekj("is-invalid",(null==(a=o.obituaryForm.get("birth_name"))?null:a.touched)&&(null==(a=o.obituaryForm.get("birth_name"))?null:a.invalid)),e.xp6(1),e.Q6J("ngIf",(null==(c=o.obituaryForm.get("birth_name"))||null==c.errors?null:c.errors.required)&&(null==(c=o.obituaryForm.get("birth_name"))?null:c.touched)),e.xp6(10),e.ekj("is-invalid",(null==(d=o.obituaryForm.get("current_name"))?null:d.touched)&&(null==(d=o.obituaryForm.get("current_name"))?null:d.invalid)),e.xp6(1),e.Q6J("ngIf",(null==(p=o.obituaryForm.get("current_name"))||null==p.errors?null:p.errors.required)&&(null==(p=o.obituaryForm.get("current_name"))?null:p.touched)),e.xp6(6),e.ekj("is-invalid",(null==(g=o.obituaryForm.get("birth_date"))?null:g.touched)&&(null==(g=o.obituaryForm.get("birth_date"))?null:g.invalid)),e.xp6(1),e.Q6J("ngIf",(null==(b=o.obituaryForm.get("birth_date"))||null==b.errors?null:b.errors.required)&&(null==(b=o.obituaryForm.get("birth_date"))?null:b.touched)),e.xp6(5),e.ekj("is-invalid",(null==(_=o.obituaryForm.get("birth_place"))?null:_.touched)&&(null==(_=o.obituaryForm.get("birth_place"))?null:_.invalid)),e.xp6(1),e.Q6J("ngIf",(null==(C=o.obituaryForm.get("birth_place"))||null==C.errors?null:C.errors.required)&&(null==(C=o.obituaryForm.get("birth_place"))?null:C.touched)),e.xp6(5),e.ekj("is-invalid",(null==(Z=o.obituaryForm.get("parent_names"))?null:Z.touched)&&(null==(Z=o.obituaryForm.get("parent_names"))?null:Z.invalid)),e.xp6(1),e.Q6J("ngIf",(null==(F=o.obituaryForm.get("parent_names"))||null==F.errors?null:F.errors.required)&&(null==(F=o.obituaryForm.get("parent_names"))?null:F.touched)),e.xp6(15),e.Q6J("ngForOf",o.childrenArray.controls),e.xp6(9),e.Q6J("ngForOf",o.siblingsArray.controls),e.xp6(2),e.Q6J("disabled",!o.obituaryForm.valid),e.xp6(1),e.hij(" ",null!=o.data&&null!=o.data.item&&o.data.item.id?"Update":"Save"," ")}},dependencies:[u.sg,u.O5,l._Y,l.Fj,l.Wl,l.JJ,l.JL,l.sg,l.u,l.x0,l.CE],styles:[".manage-obituary[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}.invalid-feedback[_ngcontent-%COMP%]{color:#dc3545;font-size:.875em}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545!important}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}"]}),r})();function it(r,i){if(1&r&&(e.TgZ(0,"h5",6),e.ALo(1,"date"),e._uU(2),e.ALo(3,"date"),e.qZA()),2&r){const s=i.$implicit;e.s9C("routerLink",e.xi3(1,2,null==s[0]?null:s[0].birth_date,"YYYY")),e.xp6(2),e.hij(" ",e.xi3(3,5,null==s[0]?null:s[0].birth_date,"YYYY")," ")}}function rt(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",4),e.YNc(2,it,4,8,"h5",5),e.qZA(),e.BQk()),2&r){const s=e.oxw();e.xp6(2),e.Q6J("ngForOf",s.obituariesListByYear)}}function st(r,i){1&r&&(e.TgZ(0,"div",7),e._uU(1,"No records found"),e.qZA())}let at=(()=>{const i=class{constructor(t,n,o,a,c){this.fb=t,this.obituaryInfoService=n,this.modalService=o,this.sharedService=a,this.router=c,this.isEditMode=!1,this.pageOptions={pageSize:20,page:1,pagination:!1},this.addCardItems=[m.NS.OBITUARY],this.obituaries=[],this.obituariesListByYear=[],this.initForm()}ngOnInit(){this.loadObituaryInfo(),this.getObituaries()}initForm(){this.obituaryForm=this.fb.group({birth_name:["",l.kI.required],married_name:[""],current_name:["",l.kI.required],birth_date:["",l.kI.required],birth_place:["",l.kI.required],parent_names:["",l.kI.required],spouse_name:[""],children:this.fb.array([]),siblings:this.fb.array([])})}loadObituaryInfo(){this.obituaryInfoService.getObituaryInfo().subscribe({next:t=>{t?.data&&(this.obituaryInfo=t.data,this.patchFormValues())},error:t=>{this.sharedService.showToast({classname:"error",text:t?.error?.message})}})}patchFormValues(){this.obituaryForm.patchValue({birth_name:this.obituaryInfo.birth_name,married_name:this.obituaryInfo.married_name,current_name:this.obituaryInfo.current_name,birth_date:this.obituaryInfo.birth_date,birth_place:this.obituaryInfo.birth_place,parent_names:this.obituaryInfo.parent_names,spouse_name:this.obituaryInfo.spouse_name}),this.obituaryForm.get("children").clear(),this.obituaryForm.get("siblings").clear(),this.obituaryInfo.children?.forEach(t=>{this.addChild(t)}),this.obituaryInfo.siblings?.forEach(t=>{this.addSibling(t)})}get childrenArray(){return this.obituaryForm.get("children")}get siblingsArray(){return this.obituaryForm.get("siblings")}addChild(t={name:"",dateOfBirth:""}){this.childrenArray.push(this.fb.group({name:[t.name,l.kI.required],dateOfBirth:[t.dateOfBirth,l.kI.required]}))}removeChild(t){this.childrenArray.removeAt(t)}addSibling(t={name:"",isAlive:!0}){this.siblingsArray.push(this.fb.group({name:[t.name,l.kI.required],isAlive:[t.isAlive]}))}removeSibling(t){this.siblingsArray.removeAt(t)}onSubmit(){if(this.obituaryForm.valid){const t=this.obituaryForm.value;this.obituaryInfo?.id?this.obituaryInfoService.updateObituaryInfo(t,this.obituaryInfo.id).subscribe({next:n=>{this.sharedService.showToast("Obituary information updated successfully"),this.loadObituaryInfo()},error:n=>{this.sharedService.showToast(n)}}):this.obituaryInfoService.createObituaryInfo(t).subscribe({next:n=>{this.sharedService.showToast("Obituary information saved successfully"),this.loadObituaryInfo()},error:n=>{this.sharedService.showToast(n)}})}}toggleEditMode(){this.isEditMode=!this.isEditMode,this.isEditMode||this.patchFormValues()}getObituaryInfo(){const t=(0,m._A)(this.pageOptions);this.obituaryInfoService.getObituaryInfo(t).subscribe({next:n=>{this.obituaryInfo=n.data,this.obituaryInfo&&this.patchFormValues()},error:n=>{this.sharedService.showToast({classname:"error",text:n?.error?.message})}})}openManageObituaryModal(t){const n=this.modalService.open(S,{size:"lg",backdrop:"static",keyboard:!1,centered:!1});n.componentInstance.data={name:t?.id?"Edit":"Add",item:t?.id?t:null},n.result.then(o=>{this.getObituaryInfo()}).catch(o=>console.log(o))}openDeleteDialog(){const t=this.modalService.open(T,{size:"md",backdrop:"static",keyboard:!1,centered:!1});t.componentInstance.data={title:"Delete Obituary Information",text:"Are you sure you want to delete this obituary information? This action is permanent and cannot be undone."},t.result.then(n=>{this.deleteObituary()}).catch(n=>console.log(n))}deleteObituary(){this.obituaryInfo?.id&&this.obituaryInfoService.deleteObituaryInfo(this.obituaryInfo.id).subscribe({next:t=>{this.sharedService.showToast({classname:"success",text:t?.message}),this.obituaryInfo=null,this.obituaryForm.reset()},error:t=>{this.sharedService.showToast({classname:"error",text:t?.error?.message})}})}getObituaries(){const t=(0,m._A)(this.pageOptions);this.obituaryInfoService.getObituaryInfo(t).subscribe({next:n=>{this.obituaries=n.data,this.obituaries&&this.obituaries.length&&this.arrangeObituariesByYear(n.data)},error:n=>{this.sharedService.showToast({classname:"error",text:n?.error?.message})}})}arrangeObituariesByYear(t){if(this.obituariesListByYear=[],!t||0===t.length)return;const n=[...t].sort((c,d)=>new Date(d.birth_date).getTime()-new Date(c.birth_date).getTime());let o=new Date(n[0].birth_date).getFullYear(),a=new Date(n[n.length-1].birth_date).getFullYear();for(;o>=a;){const c=n.filter(d=>o===new Date(d.birth_date).getFullYear());c.length&&this.obituariesListByYear.push(c),o--}}openObituaryPopup(t){const n=this.modalService.open(S,{size:"md",backdrop:"static",keyboard:!1,centered:!1});n.componentInstance.data={name:t?.id?"Edit":"Add",item:t?.id?t:null},n.result.then(o=>{this.getObituaries()}).catch(o=>console.log(o))}seeMore(t){this.router.navigate([`/obituary-info/${t}`])}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(l.qu),e.Y36(I),e.Y36(h.FF),e.Y36(v.F),e.Y36(f.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-obituary-info"]],decls:5,vars:3,consts:[[1,"container","notes","p-0"],[3,"items","label"],[4,"ngIf","ngIfElse"],["noRecords",""],[1,"d-flex","gap-3","py-4"],["class","py-3 px-5 link rounded pointer",3,"routerLink",4,"ngFor","ngForOf"],[1,"py-3","px-5","link","rounded","pointer",3,"routerLink"],[1,"text-center","my-4"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"app-add-items-card",1),e.NdJ("label",function(c){return o.openManageObituaryModal(c)}),e.qZA(),e.YNc(2,rt,3,1,"ng-container",2),e.YNc(3,st,2,0,"ng-template",null,3,e.W1O),e.qZA()),2&n){const a=e.MAs(4);e.xp6(1),e.Q6J("items",o.addCardItems),e.xp6(1),e.Q6J("ngIf",null==o.obituaries?null:o.obituaries.length)("ngIfElse",a)}},dependencies:[u.sg,u.O5,x,f.rH,u.uU],styles:[".card[_ngcontent-%COMP%]{box-shadow:0 0 10px #0000001a}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.5rem}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.form-check[_ngcontent-%COMP%]{padding-top:.5rem}input[readonly][_ngcontent-%COMP%]{background-color:#e9ecef}.notes[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   h5.link[_ngcontent-%COMP%]{color:#fff;background-color:#fbab7e;background-image:linear-gradient(62deg,#FBAB7E 0%,#F7CE68 100%)}.notes[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   h5.link[_ngcontent-%COMP%]:hover{background:none;border:1px solid #FBAB7E;background-color:#fff;color:#fbab7e}"]}),r})(),lt=(()=>{const i=class extends M.b{constructor(){super(...arguments),this.baseUrl=m.X_}getPersonalInfo(){return this.get(`${this.baseUrl}/personal-info`)}update(t){return this.put(`${this.baseUrl}/personal-info`,t)}};let r=i;return i.\u0275fac=function(){let t;return function(o){return(t||(t=e.n5z(i)))(o||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),r})();var ct=y(5031);function dt(r,i){1&r&&e._UZ(0,"img",42)}function ut(r,i){if(1&r&&e._UZ(0,"img",43),2&r){const s=e.oxw();e.Q6J("src",s.imageUrl,e.LSH)}}let mt=(()=>{const i=class{constructor(t,n,o,a,c){this.formBuilder=t,this.personalInfoService=n,this.fileService=o,this.sanitizer=a,this.sharedService=c,this.showPassword=!1}ngOnInit(){this.personalInfoForm=this.formBuilder.group({first_name:["",l.kI.required],last_name:["",l.kI.required],email:[""],phone_number:[""],address:[""],permanent_address:[""],hashed_password:["",l.kI.required],date_of_birth:[null]}),this.getPresonalInfo(),this.getProfilePic()}getPresonalInfo(){this.personalInfoService.getPersonalInfo().subscribe({next:t=>{this.personalDetails=t,this.patchForm()},error:t=>{this.sharedService.showToast({classname:"error",text:t?.error?.message})}})}patchForm(){this.personalDetails.date_of_birth=(0,m.Cm)(this.personalDetails.date_of_birth),this.personalInfoForm.patchValue(this.personalDetails),this.personalInfoForm.updateValueAndValidity()}getProfilePic(){this.fileService.getFile("personal-info/profile-pic").subscribe({next:n=>{const o=URL.createObjectURL(n);this.imageUrl=this.sanitizer.bypassSecurityTrustUrl(o)},error:n=>{this.sharedService.showToast({classname:"error",text:n?.error?.message})}})}submit(){if(console.log(this.personalInfoForm),this.personalInfoForm.invalid)console.log("Form invalid");else{const t=this.personalInfoForm.value;this.personalInfoService.update({first_name:t.first_name,last_name:t.last_name,email:t.email,phone_number:t.phone_number,address:t.address,permanent_address:t.permanent_address,date_of_birth:(0,m.Z0)(t.date_of_birth),hashed_password:t.hashed_password}).subscribe({next:n=>{this.sharedService.showToast({classname:"success",text:n?.message}),this.personalDetails=n.data,this.patchForm()},error:n=>{this.sharedService.showToast({classname:"error",text:n?.error?.message})}})}}cancel(){this.personalInfoForm.patchValue(this.personalDetails)}uploadFile(t){this.fileService.uploadFile("personal-info/upload-profile-pic",t[0]).subscribe({next:o=>{const a=URL.createObjectURL(o);this.imageUrl=this.sanitizer.bypassSecurityTrustUrl(a),this.sharedService.showToast({classname:"success",text:"Profile picture successfully uploaded"})},error:o=>{this.sharedService.showToast({classname:"error",text:o?.error?.message})}})}upgradePlan(){}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(l.QS),e.Y36(lt),e.Y36(ct.I),e.Y36(q.H7),e.Y36(v.F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-personal-info"]],decls:63,vars:6,consts:[[1,"personal-info"],[1,"container"],[1,"profile-pic","mx-auto","my-3","position-relative"],[1,"w-100"],["src","../../../assets/images/user-default-image.svg",4,"ngIf"],["alt","Fetched Image",3,"src",4,"ngIf"],["type","button",1,"btn","position-absolute","bg-yellow","border-0",3,"click"],["src","../../../assets/icons/form/camera-broken.svg"],["type","file","accept","image/*","id","profile-pic-input",1,"d-none",3,"change"],["fileInput",""],[3,"formGroup","submit"],[1,"row","mb-3"],[1,"col-12","col-lg-6"],["for","first_name",1,"col-form-label"],["type","text","placeholder","First Name","id","first_name","formControlName","first_name",1,"form-control"],["for","last_name",1,"col-form-label"],["type","text","placeholder","Last Name","id","last_name","formControlName","last_name",1,"form-control"],["for","email",1,"col-form-label"],["id","email","aria-disabled","true",1,"form-control","email"],["for","phone_number",1,"col-form-label"],["type","text","placeholder","Phone Number","id","phone_number","formControlName","phone_number",1,"form-control"],[1,"mb-3"],["for","address",1,"col-form-label"],["type","text","placeholder","Address","id","address","formControlName","address",1,"form-control"],["for","permanent_address",1,"col-form-label"],["type","text","placeholder","Permanent Address","id","permanent_address","formControlName","permanent_address",1,"form-control"],["for","password",1,"col-form-label"],[1,"input-group"],["placeholder","Password","id","password","formControlName","hashed_password",1,"form-control",3,"type"],[1,"input-group-text"],["width","24",3,"src","click"],["for","date_of_birth",1,"col-form-label"],[1,"input-group","position-relative","mb-3"],["placeholder","DD/MM/YYYY","name","date_of_birth","formControlName","date_of_birth","ngbDatepicker","","readonly","",1,"form-control","pe-5"],["dob","ngbDatepicker"],[1,"input-group-text",3,"click"],["src","../../../../assets/icons/form/calender.svg"],[1,"modal-footer","d-flex","justify-content-between","mb-4"],["type","button",1,"btn","submit-button",3,"click"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","submit-button","me-3"],["type","button",1,"btn","btn-secondary",3,"click"],["src","../../../assets/images/user-default-image.svg"],["alt","Fetched Image",3,"src"]],template:function(n,o){if(1&n){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,dt,1,0,"img",4),e.YNc(5,ut,1,1,"img",5),e.qZA(),e.TgZ(6,"button",6),e.NdJ("click",function(){e.CHM(a);const d=e.MAs(9);return e.KtG(d.click())}),e._UZ(7,"img",7),e.qZA(),e.TgZ(8,"input",8,9),e.NdJ("change",function(){e.CHM(a);const d=e.MAs(9);return e.KtG(o.uploadFile(d.files))}),e.qZA()(),e.TgZ(10,"form",10),e.NdJ("submit",function(){return o.submit()}),e.TgZ(11,"div",11)(12,"div",12)(13,"label",13),e._uU(14,"First Name"),e.qZA(),e._UZ(15,"input",14),e.qZA(),e.TgZ(16,"div",12)(17,"label",15),e._uU(18,"Last Name"),e.qZA(),e._UZ(19,"input",16),e.qZA()(),e.TgZ(20,"div",11)(21,"div",12)(22,"label",17),e._uU(23,"Email"),e.qZA(),e.TgZ(24,"div",18),e._uU(25),e.qZA()(),e.TgZ(26,"div",12)(27,"label",19),e._uU(28,"Phone Number"),e.qZA(),e._UZ(29,"input",20),e.qZA()(),e.TgZ(30,"div",21)(31,"label",22),e._uU(32,"Address"),e.qZA(),e._UZ(33,"input",23),e.qZA(),e.TgZ(34,"div",21)(35,"label",24),e._uU(36,"Permanent Address"),e.qZA(),e._UZ(37,"input",25),e.qZA(),e.TgZ(38,"div",11)(39,"div",12)(40,"label",26),e._uU(41,"Password"),e.qZA(),e.TgZ(42,"div",27),e._UZ(43,"input",28),e.TgZ(44,"span",29)(45,"img",30),e.NdJ("click",function(){return o.showPassword=!o.showPassword}),e.qZA()()()(),e.TgZ(46,"div",12)(47,"label",31),e._uU(48,"Date of birth"),e.qZA(),e.TgZ(49,"div",32),e._UZ(50,"input",33,34),e.TgZ(52,"span",35),e.NdJ("click",function(){e.CHM(a);const d=e.MAs(51);return e.KtG(d.toggle())}),e._UZ(53,"img",36),e.qZA()()()(),e.TgZ(54,"div",37)(55,"div")(56,"button",38),e.NdJ("click",function(){return o.upgradePlan()}),e._uU(57," Upgrade Plan "),e.qZA()(),e.TgZ(58,"div",39)(59,"button",40),e._uU(60,"Save"),e.qZA(),e.TgZ(61,"button",41),e.NdJ("click",function(){return o.cancel()}),e._uU(62," Cancel "),e.qZA()()()()()()}2&n&&(e.xp6(4),e.Q6J("ngIf",!o.imageUrl),e.xp6(1),e.Q6J("ngIf",o.imageUrl),e.xp6(5),e.Q6J("formGroup",o.personalInfoForm),e.xp6(15),e.hij(" ",(null==o.personalInfoForm.value?null:o.personalInfoForm.value.email)||""," "),e.xp6(18),e.s9C("type",o.showPassword?"text":"password"),e.xp6(2),e.Q6J("src",o.showPassword?"../../../assets/icons/form/eye-show.svg":"../../../assets/icons/form/eye-hide.svg",e.LSH))},dependencies:[u.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,h.J4],styles:[".personal-info[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:720px}.personal-info[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{height:36px;background-color:#d9d9d9}.personal-info[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{position:relative;width:188px;height:188px}.personal-info[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.personal-info[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   .w-100[_ngcontent-%COMP%]{border-radius:50%;overflow:hidden}.personal-info[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   .w-100[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:188px;height:188px}.personal-info[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;height:auto;padding:8px;bottom:0;right:0}"]}),r})();function pt(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"h6",8),e._uU(5),e._UZ(6,"br"),e.TgZ(7,"small",9),e._uU(8),e.ALo(9,"date"),e.qZA()(),e.TgZ(10,"div")(11,"button",10),e.NdJ("click",function(){const o=e.CHM(s).$implicit,a=e.oxw(2);return e.KtG(a.edit(o))}),e._UZ(12,"img",11),e.qZA(),e.TgZ(13,"button",12),e.NdJ("click",function(){const o=e.CHM(s).$implicit,a=e.oxw(2);return e.KtG(a.delete(o))}),e._UZ(14,"img",13),e.qZA()()(),e.TgZ(15,"p",14),e._uU(16),e.qZA()()()()}if(2&r){const s=i.$implicit;e.xp6(5),e.hij(" ",null==s?null:s.heading," "),e.xp6(3),e.Oqu(e.xi3(9,3,null==s?null:s.note_date,"d/M/y")),e.xp6(8),e.Oqu(null==s?null:s.description)}}function gt(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div",4)(1,"div",15)(2,"div",16),e.NdJ("click",function(){e.CHM(s);const n=e.oxw(2);return e.KtG(n.redirectToYear("2024"))}),e._uU(3," See More "),e.qZA()()()}}function ht(r,i){if(1&r&&(e.TgZ(0,"div",1),e.YNc(1,pt,17,6,"div",2),e.YNc(2,gt,4,0,"div",3),e.qZA()),2&r){const s=e.oxw();e.xp6(1),e.Q6J("ngForOf",s.itemsList),e.xp6(1),e.Q6J("ngIf",!s.showAll&&s.items.length>6)}}let j=(()=>{const i=class{constructor(){this.items=[],this.showAll=!1,this.itemsList=[],this.editNote=new e.vpe,this.deleteNote=new e.vpe,this.seeMore=new e.vpe}ngOnChanges(t){const n=t.items.currentValue||[];this.itemsList=!this.showAll&&n?.length>6?n.slice(0,5):n}edit(t){this.editNote.emit(t)}delete(t){this.deleteNote.emit(t)}redirectToYear(t){this.seeMore.emit(t)}};let r=i;return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-notes-card"]],inputs:{items:"items",showAll:"showAll"},outputs:{editNote:"editNote",deleteNote:"deleteNote",seeMore:"seeMore"},standalone:!0,features:[e.TTD,e.jDz],decls:1,vars:1,consts:[["class","row pt-4 notes",4,"ngIf"],[1,"row","pt-4","notes"],["class","col-sm-12 col-md-6 col-lg-4 pb-3",4,"ngFor","ngForOf"],["class","col-sm-12 col-md-6 col-lg-4 pb-3",4,"ngIf"],[1,"col-sm-12","col-md-6","col-lg-4","pb-3"],[1,"card","notes-card"],[1,"card-body"],[1,"d-flex","justify-content-between"],[1,"card-title"],[1,"text-date"],["type","button",1,"btn","btn-sm","icon-button","me-2",3,"click"],["src","../../../assets/icons/form/edit.svg","width","16","height","16"],["type","button",1,"btn","btn-sm","icon-button",3,"click"],["src","../../../assets/icons/form/delete.svg","width","16","height","16"],[1,"card-text","fs-14","text-content"],[1,"card","see-more-card"],[1,"card-body","text-center",3,"click"]],template:function(n,o){1&n&&e.YNc(0,ht,3,2,"div",0),2&n&&e.Q6J("ngIf",o.itemsList&&(null==o.itemsList?null:o.itemsList.length))},dependencies:[u.ez,u.sg,u.O5,u.uU],styles:[".notes[_ngcontent-%COMP%]   .notes-card[_ngcontent-%COMP%]{background-color:#fbab7e;background-image:linear-gradient(62deg,#FBAB7E 0%,#F7CE68 100%);border-color:#fbab7e}.notes[_ngcontent-%COMP%]   .notes-card[_ngcontent-%COMP%]:hover{background:none;background-color:#fff}.notes[_ngcontent-%COMP%]   .notes-card[_ngcontent-%COMP%]:hover   .text-date[_ngcontent-%COMP%]{color:#c55a11}.notes[_ngcontent-%COMP%]   .notes-card[_ngcontent-%COMP%]:hover   .text-content[_ngcontent-%COMP%]{color:#000}.notes[_ngcontent-%COMP%]   .notes-card[_ngcontent-%COMP%]:hover   button.icon-button[_ngcontent-%COMP%]{display:inline}.notes[_ngcontent-%COMP%]   .notes-card[_ngcontent-%COMP%]   .text-date[_ngcontent-%COMP%], .notes[_ngcontent-%COMP%]   .notes-card[_ngcontent-%COMP%]   .text-content[_ngcontent-%COMP%]{color:#fff}.notes[_ngcontent-%COMP%]   .notes-card[_ngcontent-%COMP%]   button.icon-button[_ngcontent-%COMP%]{display:none}.notes[_ngcontent-%COMP%]   .see-more-card[_ngcontent-%COMP%]{height:100%;cursor:pointer!important;text-decoration:none;background:#D9D9D9;color:#000;font-weight:500;padding:20px 30px}.notes[_ngcontent-%COMP%]   .see-more-card[_ngcontent-%COMP%]:hover{background:#C55A11;color:#fff}"]}),r})();function _t(r,i){if(1&r){const s=e.EpF();e.ynx(0),e.TgZ(1,"h6",5),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"app-notes-card",6),e.NdJ("editNote",function(n){e.CHM(s);const o=e.oxw(2);return e.KtG(o.openNotePopup(n))})("deleteNote",function(n){e.CHM(s);const o=e.oxw(2);return e.KtG(o.openDeleteDialog(n))}),e.qZA(),e.BQk()}if(2&r){const s=i.$implicit;e.xp6(2),e.Oqu(e.xi3(3,3,null==s[0]?null:s[0].note_date,"MMMM")),e.xp6(2),e.Q6J("items",s)("showAll",!0)}}function ft(r,i){if(1&r&&(e.ynx(0),e.YNc(1,_t,5,6,"ng-container",4),e.BQk()),2&r){const s=e.oxw();e.xp6(1),e.Q6J("ngForOf",s.notesListByMonths)}}function bt(r,i){1&r&&(e.TgZ(0,"div",7),e._uU(1," No records found "),e.qZA())}let vt=(()=>{const i=class{constructor(t,n,o,a){this.activatedRoute=t,this.notesService=n,this.ngbModalService=o,this.sharedService=a,this.notesList=[],this.notesListByMonths=[],this.pageOptions={pageSize:20,page:1,pagination:!0}}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.year=t.get("year"),this.getNotesByYear()}),this.scrollListener=this.onScroll.bind(this),window.addEventListener("scroll",this.scrollListener)}ngOnDestroy(){this.removeScrollListener()}removeScrollListener(){window.removeEventListener("scroll",this.scrollListener)}onScroll(){window.scrollY+window.innerHeight>=document.documentElement.scrollHeight&&(++this.pageOptions.page,this.getNotesByYear())}getNotesByYear(){this.pageOptions.year=this.year,console.log(this.pageOptions);const t=(0,m._A)(this.pageOptions);this.notesService.getNotes(t).subscribe({next:n=>{n?.data&&n?.data?.length?(this.notesList=[],this.notesList.push(...n.data),this.arrangeListByMonths()):this.removeScrollListener()},error:n=>{this.sharedService.showToast({classname:"error",text:n?.error?.message})}})}arrangeListByMonths(){this.notesListByMonths=[];let t=12;for(;t>0;){const n=this.notesList.filter(o=>t==new Date(o.note_date).getMonth()+1);n.length&&this.notesListByMonths.push(n),t--}}openNotePopup(t){const n=this.ngbModalService.open(U,{size:"md",backdrop:"static",keyboard:!1,centered:!1});n.componentInstance.data={name:t?.id?"Edit":"Add",item:t?.id?t:null},n.result.then(o=>{this.getNotesByYear()}).catch(o=>console.log(o))}openDeleteDialog(t){const n=this.ngbModalService.open(T,{size:"md",backdrop:"static",keyboard:!1,centered:!1});n.componentInstance.data={title:"Delete Note",text:"Are you sure you want to delete this note? This action is permanent and cannot be undone"},n.result.then(o=>{this.deleteNote(t.id)}).catch(o=>console.log(t))}deleteNote(t){this.notesService.deleteNote(t).subscribe({next:n=>{this.sharedService.showToast({classname:"success",text:n?.message}),this.getNotesByYear()},error:n=>{this.sharedService.showToast({classname:"error",text:n?.error?.message})}})}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(f.gz),e.Y36(P),e.Y36(h.FF),e.Y36(v.F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-notes-by-year"]],decls:6,vars:3,consts:[[1,"container","notes","p-0"],[1,"pt-4"],[4,"ngIf","ngIfElse"],["noRecords",""],[4,"ngFor","ngForOf"],[1,"text-secondary","m-0","mt-3"],[3,"items","showAll","editNote","deleteNote"],[1,"text-center","my-4"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2),e.qZA(),e.YNc(3,ft,2,1,"ng-container",2),e.YNc(4,bt,2,0,"ng-template",null,3,e.W1O),e.qZA()),2&n){const a=e.MAs(5);e.xp6(2),e.hij(" ",o.year," "),e.xp6(1),e.Q6J("ngIf",null==o.notesList?null:o.notesList.length)("ngIfElse",a)}},dependencies:[u.sg,u.O5,j,u.uU]}),r})();function yt(r,i){1&r&&e._UZ(0,"img",12)}function Ct(r,i){if(1&r&&e._UZ(0,"img",13),2&r){const s=e.oxw();e.Q6J("src",s.imageUrl,e.LSH)}}function Zt(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div",14)(1,"button",15),e._uU(2,"Edit"),e.qZA(),e.TgZ(3,"button",16),e.NdJ("click",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.openKeyHolderDialog())}),e._uU(4," Delete "),e.qZA()()}}let kt=(()=>{const i=class{constructor(t,n,o,a,c){this.keyHolderService=t,this.activatedRoute=n,this.sharedService=o,this.ngbModalService=a,this.router=c,this.imageUrl="",this.isKeyHolder=this.sharedService.isKeyHolder()}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{t.get("id")&&this.getKeyHolderById(t.get("id"))})}uploadFile(t){}getKeyHolderById(t){this.keyHolderService.getKeyHolderById(t).subscribe({next:n=>{this.keyHolder=n,this.imageUrl=n?.image_path?m.X_+n?.image_path?.slice(1):""},error:n=>{this.sharedService.showToast({classname:"error",text:n?.error?.message})}})}openKeyHolderDialog(){const t=this.ngbModalService.open(T,{size:"md",backdrop:"static",keyboard:!1,centered:!1});t.componentInstance.data={title:"Delete Key Holder",text:"Are you sure you want to delete this key Holder? This action is permanent and cannot be undone"},t.result.then(n=>{this.deleteKeyHolder()}).catch(n=>console.log(n))}deleteKeyHolder(){this.keyHolderService.deleteKeyHolder(this.keyHolder.id).subscribe({next:t=>{this.sharedService.showToast({classname:"success",text:t?.message}),this.router.navigate(["/key-holders"])},error:t=>{this.sharedService.showToast({classname:"error",text:t?.error?.message})}})}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(N),e.Y36(f.gz),e.Y36(v.F),e.Y36(h.FF),e.Y36(f.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-key-holder-details"]],decls:45,vars:12,consts:[[1,"key-holder-details"],[1,"container"],[1,"card","p-3","p-lg-4","p-xl-5"],[1,"profile-pic","mx-auto","my-3","position-relative"],[1,"w-100"],["src","../../../assets/images/user-default-image.svg",4,"ngIf"],["alt","Fetched Image",3,"src",4,"ngIf"],[1,"row","my-3"],[1,"col-12","col-lg-6","mb-3"],[1,"title"],[1,"col-12","col-lg-6","mb-3","text-start","text-lg-end"],["class","d-flex justify-content-end my-3",4,"ngIf"],["src","../../../assets/images/user-default-image.svg"],["alt","Fetched Image",3,"src"],[1,"d-flex","justify-content-end","my-3"],["type","button",1,"btn","submit-button","me-3"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.YNc(5,yt,1,0,"img",5),e.YNc(6,Ct,1,1,"img",6),e.qZA()(),e.TgZ(7,"div",7)(8,"div",8)(9,"span",9),e._uU(10," First Name: "),e.qZA(),e._uU(11),e.qZA(),e.TgZ(12,"div",10)(13,"span",9),e._uU(14," Last Name: "),e.qZA(),e._uU(15),e.qZA(),e.TgZ(16,"div",8)(17,"span",9),e._uU(18," Email: "),e.qZA(),e._uU(19),e.qZA(),e.TgZ(20,"div",10)(21,"span",9),e._uU(22," Phone Number: "),e.qZA(),e._uU(23),e.qZA(),e.TgZ(24,"div",8)(25,"span",9),e._uU(26," Relation: "),e.qZA(),e._uU(27),e.qZA(),e.TgZ(28,"div",10)(29,"span",9),e._uU(30,"Street:"),e.qZA(),e._uU(31),e.qZA(),e.TgZ(32,"div",8)(33,"span",9),e._uU(34,"City:"),e.qZA(),e._uU(35),e.qZA(),e.TgZ(36,"div",10)(37,"span",9),e._uU(38,"State:"),e.qZA(),e._uU(39),e.qZA(),e.TgZ(40,"div",8)(41,"span",9),e._uU(42,"Zip Code:"),e.qZA(),e._uU(43),e.qZA()(),e.YNc(44,Zt,5,0,"div",11),e.qZA()()()),2&n&&(e.xp6(5),e.Q6J("ngIf",!o.imageUrl),e.xp6(1),e.Q6J("ngIf",o.imageUrl),e.xp6(5),e.hij(" ",(null==o.keyHolder?null:o.keyHolder.first_name)||"--"," "),e.xp6(4),e.hij(" ",(null==o.keyHolder?null:o.keyHolder.last_name)||"--"," "),e.xp6(4),e.hij(" ",(null==o.keyHolder?null:o.keyHolder.email)||"--"," "),e.xp6(4),e.hij(" ",(null==o.keyHolder?null:o.keyHolder.phone_number)||"--"," "),e.xp6(4),e.hij(" ",(null==o.keyHolder?null:o.keyHolder.relation)||"--"," "),e.xp6(4),e.hij(" ",(null==o.keyHolder?null:o.keyHolder.street)||"--"," "),e.xp6(4),e.hij(" ",(null==o.keyHolder?null:o.keyHolder.city)||"--"," "),e.xp6(4),e.hij(" ",(null==o.keyHolder?null:o.keyHolder.state)||"--"," "),e.xp6(4),e.hij(" ",(null==o.keyHolder?null:o.keyHolder.zip)||"--"," "),e.xp6(1),e.Q6J("ngIf",!o.isKeyHolder))},dependencies:[u.O5],styles:[".key-holder-details[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:#f5f5f5}.key-holder-details[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{height:36px;background-color:#d9d9d9}.key-holder-details[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{position:relative;width:188px;height:188px}.key-holder-details[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.key-holder-details[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:gray}"]}),r})();function wt(r,i){if(1&r&&(e.TgZ(0,"h5"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const s=e.oxw(2).$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,s.date,"mediumDate"))}}function Mt(r,i){if(1&r&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&r){const s=e.oxw(2).$implicit;e.xp6(1),e.Oqu(null==s?null:s.description)}}function Tt(r,i){if(1&r&&(e.TgZ(0,"div",11),e._UZ(1,"img",12),e.qZA(),e.TgZ(2,"div",13),e.YNc(3,wt,3,4,"h5",14),e.YNc(4,Mt,2,1,"p",14),e.qZA()),2&r){const s=e.oxw(),t=s.index,n=s.$implicit;e.xp6(1),e.MGl("alt","Slide ",t+1,""),e.Q6J("src",n.url,e.LSH),e.xp6(2),e.Q6J("ngIf",n.date),e.xp6(1),e.Q6J("ngIf",n.description)}}function xt(r,i){1&r&&e.YNc(0,Tt,5,4,"ng-template",10),2&r&&e.Q6J("id","slide-"+i.index)}function Ot(r,i){if(1&r&&(e.TgZ(0,"ngb-carousel",8),e.YNc(1,xt,1,1,null,9),e.qZA()),2&r){const s=e.oxw();e.xp6(1),e.Q6J("ngForOf",s.data.images)}}let Ft=(()=>{const i=class{constructor(t){this.activeModal=t}ngOnChanges(t){console.log({simpleChange:t})}closeModal(){this.activeModal.close(null)}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(h.Kz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-carousel"]],inputs:{data:"data"},standalone:!0,features:[e.TTD,e.jDz],decls:10,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn",3,"click"],["src","../../../../assets/icons/form/close-lg.svg"],[1,"modal-body"],["class","fixed-carousel position-relative",4,"ngIf"],[1,"modal-footer","d-flex","justify-content-end"],[1,"btn","submit-button",3,"click"],[1,"fixed-carousel","position-relative"],[4,"ngFor","ngForOf"],["ngbSlide","",3,"id"],[1,"img-box"],[1,"d-block","w-100","carousel-image",3,"src","alt"],[1,"carousel-caption","position-absolute"],[4,"ngIf"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.closeModal()}),e._UZ(4,"img",3),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,Ot,2,1,"ngb-carousel",5),e.qZA(),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){return o.closeModal()}),e._uU(9," Close "),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(o.data.heading),e.xp6(4),e.Q6J("ngIf",o.data.images.length))},dependencies:[u.ez,u.sg,u.O5,u.uU,h.IJ,h.uo,h.xl],styles:[".modal-body[_ngcontent-%COMP%]{background-color:#333}.modal-body[_ngcontent-%COMP%]   .img-box[_ngcontent-%COMP%]{height:420px;width:100%;overflow:hidden;display:flex;justify-content:center;align-items:center}.modal-body[_ngcontent-%COMP%]   .img-box[_ngcontent-%COMP%]   img.carousel-image[_ngcontent-%COMP%]{max-height:100%;width:auto;object-fit:contain}"]}),r})();function At(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div",5)(1,"div",6),e.NdJ("click",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.openCarosel())}),e._UZ(2,"img",7),e.qZA()()}if(2&r){const s=i.$implicit;e.xp6(2),e.Q6J("src",null==s.image_details?null:s.image_details.image_path,e.LSH)}}let Pt=(()=>{const i=class{constructor(t,n,o,a){this.ngbModalService=t,this.activatedRoute=n,this.memoriesService=o,this.sharedService=a,this.baseUrl=m.X_,this.addCardItems=[m.NS.MEMORIES],this.folder_id="",this.folderDetails=[],this.folderResult=[{date:"2025-04-17T09:47:17.326Z",url:"https://cloudinary-marketing-res.cloudinary.com/images/w_1000,c_scale/v1679921049/Image_URL_header/Image_URL_header-png?_i=AA?text=Slide+1"},{date:"2025-08-17T09:47:17.326Z",url:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQcTY50AnR35-aKaONIPoeLNh_KrvAq9bwD7A&s?text=Slide+2"},{date:"2025-04-30T09:47:17.326Z",url:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTU3HFVnkYFJ_OIogo__Qv58bmhwRqZJcQhOA&s?text=Slide+3"}],this.pageOptions={pageSize:20,page:1,pagination:!1}}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.folder_id=(t.get("id")||"").toString(),this.folder_id&&this.getFolderDetails()})}getFolderDetails(){const t=(0,m._A)({...this.pageOptions,folder_id:this.folder_id});this.memoriesService.getMemoriesFolderDetails(t).subscribe({next:n=>{this.folderDetails=n.data,this.folderDetails.forEach(o=>{o.image_details.image_path=this.baseUrl+o.image_details.image_path.slice(1)})},error:n=>{this.sharedService.showToast({classname:"error",text:n?.error?.message})}})}addMemories(t){const n=this.ngbModalService.open(H,{size:"md",backdrop:"static",keyboard:!1,centered:!1});n.componentInstance.data={name:"Add",item:{folder_id:this.folder_id}},n.result.then(o=>{console.log(o)}).catch(o=>console.log(o))}openCarosel(){const t=this.ngbModalService.open(Ft,{size:"lg",backdrop:"static",keyboard:!1,centered:!1});let n=[];this.folderDetails.forEach(o=>{n.push({id:o?.id,url:o?.image_details?.image_path,date:o?.memory_date,description:o?.description})}),t.componentInstance.data={heading:this.folderDetails[0]?.folder?.folder_name||"Slider Images",images:n},t.result.then(o=>{this.getFolderDetails()}).catch(o=>console.log(o))}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(h.FF),e.Y36(f.gz),e.Y36(A),e.Y36(v.F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-memory-folder-details"]],decls:5,vars:2,consts:[[1,"memory-folder-details"],[3,"items","label"],[1,"container","px-0"],[1,"row","my-3"],["class","col-12 col-sm-6 col-md-4 col-lg-4 col-xl-2 py-3 folder-thumbnail",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4","col-lg-4","col-xl-2","py-3","folder-thumbnail"],[1,"img-dev","pointer",3,"click"],["alt","Cinque Terre",1,"img-rounded",3,"src"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"app-add-items-card",1),e.NdJ("label",function(c){return o.addMemories(c)}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3),e.YNc(4,At,3,1,"div",4),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("items",o.addCardItems),e.xp6(3),e.Q6J("ngForOf",o.folderDetails))},dependencies:[u.sg,x],styles:[".memory-folder-details[_ngcontent-%COMP%]   .folder-thumbnail[_ngcontent-%COMP%]   .img-dev[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}"]}),r})();function Ut(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div")(1,"button",14),e.NdJ("click",function(){e.CHM(s);const n=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.edit(n))}),e._UZ(2,"img",15),e.qZA(),e.TgZ(3,"button",16),e.NdJ("click",function(){e.CHM(s);const n=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.delete(n))}),e._UZ(4,"img",17),e.qZA()()}}function qt(r,i){if(1&r&&(e.TgZ(0,"p",18),e._uU(1),e.qZA()),2&r){const s=e.oxw().$implicit;e.xp6(1),e.hij(" Birth Name: ",null==s?null:s.birth_name," ")}}function Nt(r,i){if(1&r&&(e.TgZ(0,"p",18),e._uU(1),e.qZA()),2&r){const s=e.oxw().$implicit;e.xp6(1),e.hij(" Married Name: ",null==s?null:s.married_name," ")}}function It(r,i){if(1&r&&(e.TgZ(0,"p",18),e._uU(1),e.qZA()),2&r){const s=e.oxw().$implicit;e.xp6(1),e.hij(" Birth Place: ",null==s?null:s.birth_place," ")}}function St(r,i){if(1&r&&(e.TgZ(0,"p",18),e._uU(1),e.qZA()),2&r){const s=e.oxw().$implicit;e.xp6(1),e.hij(" Parents: ",null==s?null:s.parent_names," ")}}function Yt(r,i){if(1&r&&(e.TgZ(0,"p",18),e._uU(1),e.qZA()),2&r){const s=e.oxw().$implicit;e.xp6(1),e.hij(" Spouse: ",null==s?null:s.spouse_name," ")}}function Jt(r,i){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const s=i.$implicit;e.xp6(1),e.AsE(" ",s.name," (",e.xi3(2,2,s.dateOfBirth,"d/M/y"),") ")}}function Lt(r,i){if(1&r&&(e.TgZ(0,"div",19)(1,"p",20)(2,"strong"),e._uU(3,"Children:"),e.qZA()(),e.TgZ(4,"ul",21),e.YNc(5,Jt,3,5,"li",22),e.qZA()()),2&r){const s=e.oxw().$implicit;e.xp6(5),e.Q6J("ngForOf",s.children)}}function Ht(r,i){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&r){const s=i.$implicit;e.xp6(1),e.AsE(" ",s.name," ",s.isAlive?"":"(Deceased)"," ")}}function Qt(r,i){if(1&r&&(e.TgZ(0,"div",19)(1,"p",20)(2,"strong"),e._uU(3,"Siblings:"),e.qZA()(),e.TgZ(4,"ul",21),e.YNc(5,Ht,2,2,"li",22),e.qZA()()),2&r){const s=e.oxw().$implicit;e.xp6(5),e.Q6J("ngForOf",s.siblings)}}function Et(r,i){if(1&r&&(e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"h6",8),e._uU(5),e._UZ(6,"br"),e.TgZ(7,"small",9),e._uU(8),e.ALo(9,"date"),e.qZA()(),e.YNc(10,Ut,5,0,"div",10),e.qZA(),e.TgZ(11,"div",11),e.YNc(12,qt,2,1,"p",12),e.YNc(13,Nt,2,1,"p",12),e.YNc(14,It,2,1,"p",12),e.YNc(15,St,2,1,"p",12),e.YNc(16,Yt,2,1,"p",12),e.YNc(17,Lt,6,1,"div",13),e.YNc(18,Qt,6,1,"div",13),e.qZA()()()()),2&r){const s=i.$implicit,t=e.oxw(2);e.xp6(5),e.hij(" ",null==s?null:s.current_name," "),e.xp6(3),e.hij("Birth: ",e.xi3(9,10,null==s?null:s.birth_date,"d/M/y"),""),e.xp6(2),e.Q6J("ngIf",!t.isKeyHolder),e.xp6(2),e.Q6J("ngIf",null==s?null:s.birth_name),e.xp6(1),e.Q6J("ngIf",null==s?null:s.married_name),e.xp6(1),e.Q6J("ngIf",null==s?null:s.birth_place),e.xp6(1),e.Q6J("ngIf",null==s?null:s.parent_names),e.xp6(1),e.Q6J("ngIf",null==s?null:s.spouse_name),e.xp6(1),e.Q6J("ngIf",null==s||null==s.children?null:s.children.length),e.xp6(1),e.Q6J("ngIf",null==s||null==s.siblings?null:s.siblings.length)}}function Dt(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div",4)(1,"div",23)(2,"div",24),e.NdJ("click",function(){e.CHM(s);const n=e.oxw(2);return e.KtG(n.redirectToYear("2024"))}),e._uU(3," See More "),e.qZA()()()}}function Bt(r,i){if(1&r&&(e.TgZ(0,"div",1),e.YNc(1,Et,19,13,"div",2),e.YNc(2,Dt,4,0,"div",3),e.qZA()),2&r){const s=e.oxw();e.xp6(1),e.Q6J("ngForOf",s.itemsList),e.xp6(1),e.Q6J("ngIf",!s.showAll&&s.items.length>6)}}let $=(()=>{const i=class{constructor(t,n){this.soundService=t,this.sharedService=n,this.items=[],this.showAll=!1,this.itemsList=[],this.editObituary=new e.vpe,this.deleteObituary=new e.vpe,this.seeMore=new e.vpe,this.isKeyHolder=this.sharedService.isKeyHolder()}ngOnChanges(t){const n=t.items?.currentValue||[];this.itemsList=!this.showAll&&n?.length>6?n.slice(0,5):n}edit(t){this.editObituary.emit(t)}delete(t){this.soundService.playClickSound(),this.deleteObituary.emit(t)}redirectToYear(t){this.seeMore.emit(t)}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(w.y),e.Y36(v.F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-obituary-card"]],inputs:{items:"items",showAll:"showAll"},outputs:{editObituary:"editObituary",deleteObituary:"deleteObituary",seeMore:"seeMore"},standalone:!0,features:[e.TTD,e.jDz],decls:1,vars:1,consts:[["class","row pt-4 obituaries",4,"ngIf"],[1,"row","pt-4","obituaries"],["class","col-sm-12 col-md-6 col-lg-4 pb-3",4,"ngFor","ngForOf"],["class","col-sm-12 col-md-6 col-lg-4 pb-3",4,"ngIf"],[1,"col-sm-12","col-md-6","col-lg-4","pb-3"],[1,"card","obituary-card"],[1,"card-body"],[1,"d-flex","justify-content-between"],[1,"card-title"],[1,"text-date"],[4,"ngIf"],[1,"card-text","fs-14","text-content"],["class","mb-2",4,"ngIf"],["class","mt-3",4,"ngIf"],["type","button",1,"btn","btn-sm","icon-button","me-2",3,"click"],["src","../../../assets/icons/form/edit.svg","width","16","height","16","alt","Edit"],["type","button",1,"btn","btn-sm","icon-button",3,"click"],["src","../../../assets/icons/form/delete.svg","width","16","height","16","alt","Delete"],[1,"mb-2"],[1,"mt-3"],[1,"mb-1"],[1,"list-unstyled","ms-3"],[4,"ngFor","ngForOf"],[1,"card","see-more-card"],[1,"card-body","text-center",3,"click"]],template:function(n,o){1&n&&e.YNc(0,Bt,3,2,"div",0),2&n&&e.Q6J("ngIf",o.itemsList&&(null==o.itemsList?null:o.itemsList.length))},dependencies:[u.ez,u.sg,u.O5,u.uU],styles:[".obituaries[_ngcontent-%COMP%]   .obituary-card[_ngcontent-%COMP%]{border-radius:8px;min-height:150px}.obituaries[_ngcontent-%COMP%]   .obituary-card[_ngcontent-%COMP%]   .text-date[_ngcontent-%COMP%]{color:#666;font-size:12px}.obituaries[_ngcontent-%COMP%]   .obituary-card[_ngcontent-%COMP%]   .text-content[_ngcontent-%COMP%]{color:#666;font-size:.875rem;overflow:hidden}.obituaries[_ngcontent-%COMP%]   .obituary-card[_ngcontent-%COMP%]   .text-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.5rem}.obituaries[_ngcontent-%COMP%]   .obituary-card[_ngcontent-%COMP%]   .text-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:.85rem;margin-left:1rem}.obituaries[_ngcontent-%COMP%]   .obituary-card[_ngcontent-%COMP%]   .list-unstyled[_ngcontent-%COMP%]{list-style:none;padding-left:0}.obituaries[_ngcontent-%COMP%]   .see-more-card[_ngcontent-%COMP%]{border-radius:8px;min-height:150px;background-color:#f8f9fa;cursor:pointer;display:flex;align-items:center;justify-content:center}.obituaries[_ngcontent-%COMP%]   .see-more-card[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.obituaries[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{padding:4px;line-height:1}"]}),r})();function Kt(r,i){if(1&r){const s=e.EpF();e.ynx(0),e.TgZ(1,"h6",5),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"app-obituary-card",6),e.NdJ("editObituary",function(n){e.CHM(s);const o=e.oxw(2);return e.KtG(o.openObituaryPopup(n))})("deleteObituary",function(n){e.CHM(s);const o=e.oxw(2);return e.KtG(o.openDeleteDialog(n))}),e.qZA(),e.BQk()}if(2&r){const s=i.$implicit,t=e.oxw(2);e.xp6(2),e.hij(" ",e.xi3(3,3,null==s[0]?null:s[0].birth_date,"MMMM")," "),e.xp6(2),e.Q6J("items",t.obituaryList)("showAll",!0)}}function zt(r,i){if(1&r&&(e.ynx(0),e.YNc(1,Kt,5,6,"ng-container",4),e.BQk()),2&r){const s=e.oxw();e.xp6(1),e.Q6J("ngForOf",s.obituaryListByMonths)}}function jt(r,i){1&r&&(e.TgZ(0,"div",7),e._uU(1,"No records found"),e.qZA())}let $t=(()=>{const i=class{constructor(t,n,o,a,c){this.activatedRoute=t,this.obituaryInfoService=n,this.ngbModalService=o,this.sharedService=a,this.soundService=c,this.obituaryList=[],this.obituaryListByMonths=[],this.pageOptions={pageSize:20,page:1,pagination:!0}}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.year=t.get("year"),this.getObituariesByYear()}),this.scrollListener=this.onScroll.bind(this),window.addEventListener("scroll",this.scrollListener)}ngOnDestroy(){this.removeScrollListener()}removeScrollListener(){window.removeEventListener("scroll",this.scrollListener)}onScroll(){window.scrollY+window.innerHeight>=document.documentElement.scrollHeight&&(++this.pageOptions.page,this.getObituariesByYear())}getObituariesByYear(){this.soundService.playClickSound(),this.pageOptions.year=this.year;const t=(0,m._A)(this.pageOptions);this.obituaryInfoService.getObituaryInfo(t).subscribe({next:n=>{n?.data&&n?.data?.length?(this.obituaryList=[],this.obituaryList.push(...n.data),this.arrangeListByMonths()):this.removeScrollListener()},error:n=>{this.sharedService.showToast({classname:"error",text:n?.error?.message})}})}arrangeListByMonths(){this.obituaryListByMonths=[];let t=12;for(;t>0;){const n=this.obituaryList.filter(o=>t==new Date(o.birth_date).getMonth()+1);n.length&&this.obituaryListByMonths.push(n),t--}}openObituaryPopup(t){const n=this.ngbModalService.open(S,{size:"md",backdrop:"static",keyboard:!1,centered:!1});n.componentInstance.data={name:t?.id?"Edit":"Add",item:t?.id?t:null},n.result.then(o=>{this.getObituariesByYear()}).catch(o=>console.log(o))}openDeleteDialog(t){const n=this.ngbModalService.open(T,{size:"md",backdrop:"static",keyboard:!1,centered:!1});n.componentInstance.data={title:"Delete Obituary",text:"Are you sure you want to delete this obituary? This action is permanent and cannot be undone"},n.result.then(o=>{this.deleteObituary(t.id)}).catch(o=>console.log(t))}deleteObituary(t){this.obituaryInfoService.deleteObituaryInfo(t).subscribe({next:n=>{this.sharedService.showToast({classname:"success",text:n?.message}),this.getObituariesByYear()},error:n=>{this.sharedService.showToast({classname:"error",text:n?.error?.message})}})}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(f.gz),e.Y36(I),e.Y36(h.FF),e.Y36(v.F),e.Y36(w.y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-obituary-by-year"]],decls:6,vars:3,consts:[[1,"container","obituary","p-0"],[1,"pt-4"],[4,"ngIf","ngIfElse"],["noRecords",""],[4,"ngFor","ngForOf"],[1,"text-secondary","m-0","mt-3"],[3,"items","showAll","editObituary","deleteObituary"],[1,"text-center","my-4"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2),e.qZA(),e.YNc(3,zt,2,1,"ng-container",2),e.YNc(4,jt,2,0,"ng-template",null,3,e.W1O),e.qZA()),2&n){const a=e.MAs(5);e.xp6(2),e.hij(" ",o.year," "),e.xp6(1),e.Q6J("ngIf",null==o.obituaryList?null:o.obituaryList.length)("ngIfElse",a)}},dependencies:[u.sg,u.O5,$,u.uU],styles:[".obituary[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{background-color:#f8f9fa;cursor:pointer;transition:background-color .3s ease}.obituary[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{background-color:#e9ecef}"]}),r})(),Gt=(()=>{const i=class{constructor(t){this.http=t,this.apiUrl=m.X_,this.baseUrl=`${this.apiUrl}/users`}getUsers(t=1,n=10){return this.http.get(`${this.baseUrl}/manage/list`,{params:{page:t.toString(),limit:n.toString()}})}updateUserRole(t,n){return this.http.put(`${this.baseUrl}/${t}/role`,{role:n})}deleteUser(t){return this.http.delete(`${this.baseUrl}/${t}`)}blockUser(t){return this.http.put(`${this.baseUrl}/${t}/block`,{})}unblockUser(t){return this.http.put(`${this.baseUrl}/${t}/unblock`,{})}updateUser(t,n){return this.http.put(`${this.baseUrl}/${t}`,n)}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.LFG(E.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),r})();function Rt(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div",11)(1,"h4",12),e._uU(2,"Edit User"),e.qZA(),e.TgZ(3,"button",13),e.NdJ("click",function(){const o=e.CHM(s).$implicit;return e.KtG(o.dismiss())}),e.qZA()(),e.TgZ(4,"div",14)(5,"form",15)(6,"div",16)(7,"label",17),e._uU(8,"First Name"),e.qZA(),e._UZ(9,"input",18),e.qZA(),e.TgZ(10,"div",16)(11,"label",19),e._uU(12,"Last Name"),e.qZA(),e._UZ(13,"input",20),e.qZA(),e.TgZ(14,"div",16)(15,"label",21),e._uU(16,"Email"),e.qZA(),e._UZ(17,"input",22),e.qZA(),e.TgZ(18,"div",16)(19,"label",23),e._uU(20,"Password"),e.qZA(),e._UZ(21,"input",24),e.qZA(),e.TgZ(22,"div",16)(23,"label",25),e._uU(24,"Phone Number"),e.qZA(),e._UZ(25,"input",26),e.qZA()()(),e.TgZ(26,"div",27)(27,"button",28),e.NdJ("click",function(){const o=e.CHM(s).$implicit;return e.KtG(o.dismiss())}),e._uU(28," Cancel "),e.qZA(),e.TgZ(29,"button",29),e.NdJ("click",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.updateUser())}),e._uU(30," Save Changes "),e.qZA()()}if(2&r){const s=e.oxw();e.xp6(5),e.Q6J("formGroup",s.editForm)}}function Vt(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"select",6),e.NdJ("ngModelChange",function(n){const a=e.CHM(s).$implicit;return e.KtG(a.role=n)})("change",function(){const o=e.CHM(s).$implicit,a=e.oxw();return e.KtG(a.updateRole(o))}),e.TgZ(7,"option",30),e._uU(8,"User"),e.qZA(),e.TgZ(9,"option",31),e._uU(10,"Admin"),e.qZA(),e.TgZ(11,"option",32),e._uU(12,"Super Admin"),e.qZA()()(),e.TgZ(13,"td")(14,"button",33),e.NdJ("click",function(){const o=e.CHM(s).$implicit,a=e.oxw(),c=e.MAs(4);return e.KtG(a.openEditModal(c,o))}),e._uU(15," Edit "),e.qZA(),e.TgZ(16,"button",34),e.NdJ("click",function(){const o=e.CHM(s).$implicit,a=e.oxw();return e.KtG(a.deleteUser(o))}),e._uU(17," Delete "),e.qZA()()()}if(2&r){const s=i.$implicit;e.xp6(2),e.AsE("",s.first_name," ",s.last_name,""),e.xp6(2),e.Oqu(s.email),e.xp6(2),e.Q6J("ngModel",s.role)}}let Xt=(()=>{const i=class{constructor(t,n,o,a){this.adminService=t,this.sharedService=n,this.modalService=o,this.fb=a,this.users=[],this.currentPage=1,this.limit=10,this.totalItems=0,this.selectedUser=null,this.editForm=this.fb.group({first_name:["",l.kI.required],last_name:["",l.kI.required],email:["",[l.kI.required,l.kI.email]],phone_number:[""],hashed_password:[""]})}ngOnInit(){this.loadUsers()}loadUsers(){this.adminService.getUsers(this.currentPage,this.limit).subscribe({next:t=>{this.users=t.rows,this.totalItems=t.count},error:t=>{this.sharedService.showToast({classname:"error",text:t.error?.message||"Failed to load users"})}})}updateRole(t){this.adminService.updateUserRole(t.id,t.role).subscribe({next:n=>{this.sharedService.showToast({classname:"success",text:"User role updated successfully"})},error:n=>{this.sharedService.showToast({classname:"error",text:n.error?.message||"Failed to update user role"}),this.loadUsers()}})}openEditModal(t,n){this.selectedUser=n,this.editForm.patchValue({first_name:n.first_name,last_name:n.last_name,email:n.email,phone_number:n.phone_number||"",hashed_password:n.hashed_password||""}),this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"})}updateUser(){this.editForm.valid&&this.selectedUser&&this.adminService.updateUser(this.selectedUser.id,this.editForm.value).subscribe({next:t=>{this.sharedService.showToast({classname:"success",text:"User updated successfully"}),this.modalService.dismissAll(),this.loadUsers()},error:t=>{this.sharedService.showToast({classname:"error",text:t.error?.message||"Failed to update user"})}})}deleteUser(t){confirm("Are you sure you want to delete this user?")&&this.adminService.deleteUser(t.id).subscribe({next:n=>{this.sharedService.showToast({classname:"success",text:"User deleted successfully"}),this.loadUsers()},error:n=>{this.sharedService.showToast({classname:"error",text:n.error?.message||"Failed to delete user"})}})}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(Gt),e.Y36(v.F),e.Y36(h.FF),e.Y36(l.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-management"]],decls:29,vars:5,consts:[[1,"user-management"],["editUserModal",""],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","mt-3"],[1,"form-select",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],[3,"collectionSize","page","pageSize","pageChange"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","firstName",1,"form-label"],["type","text","id","firstName","formControlName","first_name",1,"form-control"],["for","lastName",1,"form-label"],["type","text","id","lastName","formControlName","last_name",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control"],["for","hashed_password",1,"form-label"],["type","password","id","hashed_password","formControlName","hashed_password",1,"form-control"],["for","phoneNumber",1,"form-label"],["type","tel","id","phoneNumber","formControlName","phone_number",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["value","user"],["value","admin"],["value","super_admin"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"btn","btn-sm","btn-danger","ms-2",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"User Management"),e.qZA(),e.YNc(3,Rt,31,1,"ng-template",null,1,e.W1O),e.TgZ(5,"div",2)(6,"table",3)(7,"thead")(8,"tr")(9,"th"),e._uU(10,"Name"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Email"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Role"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Actions"),e.qZA()()(),e.TgZ(17,"tbody"),e.YNc(18,Vt,18,4,"tr",4),e.qZA()()(),e.TgZ(19,"div",5)(20,"div")(21,"select",6),e.NdJ("ngModelChange",function(c){return o.limit=c})("change",function(){return o.loadUsers()}),e.TgZ(22,"option",7),e._uU(23,"10 per page"),e.qZA(),e.TgZ(24,"option",8),e._uU(25,"25 per page"),e.qZA(),e.TgZ(26,"option",9),e._uU(27,"50 per page"),e.qZA()()(),e.TgZ(28,"ngb-pagination",10),e.NdJ("pageChange",function(c){return o.currentPage=c})("pageChange",function(){return o.loadUsers()}),e.qZA()()()),2&n&&(e.xp6(18),e.Q6J("ngForOf",o.users),e.xp6(3),e.Q6J("ngModel",o.limit),e.xp6(7),e.Q6J("collectionSize",o.totalItems)("page",o.currentPage)("pageSize",o.limit))},dependencies:[u.sg,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u,l.On,h.N9],styles:[".user-management[_ngcontent-%COMP%]{padding:20px}.table[_ngcontent-%COMP%]{background:white;box-shadow:0 0 10px #0000001a}"]}),r})();var Wt=y(4004),en=y(262),tn=y(9646);const k=(r,i)=>{const s=(0,e.f3M)(D),t=(0,e.f3M)(v.F),n=(0,e.f3M)(f.F0);return s.getKeyHolders().pipe((0,Wt.U)(o=>{console.log("Key holders response:",o);const a=Array.isArray(o)?o:o?.data||o?.keyHolders||o?.items||[];return a.length>0?(console.log("Key holders found:",a.length),!0):(console.warn("No key holders found"),t.showToast({classname:"warning",text:"Please assign at least one key holder to access this feature."}),n.parseUrl("/key-holders"))}),(0,en.K)(o=>(console.error("Error checking key holders:",o),t.showToast({classname:"error",text:"Error checking key holders. Please try again."}),(0,tn.of)(n.parseUrl("/key-holders")))))};var G=y(1526),R=y(9470);let nn=(()=>{const i=class{constructor(t,n,o){this.router=t,this.featuresService=n,this.sharedService=o,this.navList=[],this.activeItemLink="/dashboard",this.activeItem="All Items",this.isCollapsed=!1}ngOnInit(){this.getUserPlan()}getUserPlan(){if(this.sharedService.isAdmin()||this.sharedService.isSuperAdmin())return this.navList=m.pP,this.subscribeToEvent(),void(this.navList.length&&!this.activeItemLink&&this.router.navigate([`${this.navList[0]?.link}`]));this.featuresService.getUserPlan().subscribe({next:t=>{t?.plan?.screens?.length?(this.navList=m.hR.filter(n=>t.plan.screens.find(o=>o.name==n.name)),console.log("Filtered navigation list:",this.navList)):(console.warn("No screens found in user plan"),this.navList=m.hR),this.subscribeToEvent(),this.navList.length&&!this.activeItemLink&&this.router.navigate([`${this.navList[0]?.link}`])},error:t=>{console.error("Error fetching user plan:",t),this.navList=m.hR,this.sharedService.showToast({classname:"error",text:t?.error?.message||"Error loading navigation"})}})}subscribeToEvent(){this.router.events.subscribe(t=>{t instanceof f.m2&&this.updateActiveNav(t.urlAfterRedirects)})}updateActiveNav(t){this.activeItemLink=t,this.activeItem=this.navList.find(n=>n.link==t)?.name}toggleSidebar(){this.isCollapsed=!this.isCollapsed}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(f.F0),e.Y36(Q),e.Y36(v.F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-features"]],decls:7,vars:5,consts:[[1,"d-flex","position-relative"],[1,"text-white","sidebar","py-3"],[3,"navList","activeItem"],[1,"main-content","flex-grow-1","px-5"],[3,"activeItem"],[1,"pt-0","pb-5"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"nav",1),e._UZ(2,"app-side-nav",2),e.qZA(),e.TgZ(3,"div",3),e._UZ(4,"app-header",4),e.TgZ(5,"div",5),e._UZ(6,"router-outlet"),e.qZA()()()),2&n&&(e.xp6(1),e.ekj("active",o.isCollapsed),e.xp6(1),e.Q6J("navList",o.navList)("activeItem",o.activeItem),e.xp6(2),e.Q6J("activeItem",o.activeItem))},dependencies:[G.s,R.G,f.lC],styles:[".sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;min-width:300px;min-height:-moz-fit-content;min-height:fit-content;height:100vh;transition:all .3s ease-in-out;background-color:#14c44d;background-image:linear-gradient(0deg,#14c44d 0%,#848627 50%,#20674e 100%)}.sidebar.active[_ngcontent-%COMP%]{width:0;overflow:hidden}.main-content[_ngcontent-%COMP%]{margin-left:300px;transition:all .3s ease-in-out}.sidebar.active[_ngcontent-%COMP%] ~ .main-content[_ngcontent-%COMP%]{margin-left:0}"]}),r})();var on=y(384);function rn(r,i){1&r&&(e.TgZ(0,"div",22),e._uU(1," Current password is required "),e.qZA())}function sn(r,i){1&r&&(e.TgZ(0,"div",22),e._uU(1," New password is required "),e.qZA())}function an(r,i){1&r&&(e.TgZ(0,"div",22),e._uU(1," Password must be at least 6 characters "),e.qZA())}function ln(r,i){1&r&&(e.TgZ(0,"div",22),e._uU(1," Confirm password is required "),e.qZA())}function cn(r,i){1&r&&(e.TgZ(0,"div",22),e._uU(1," Passwords do not match "),e.qZA())}const dn=[{path:"",component:nn,children:[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"dashboard",component:fe,canActivate:[(()=>{const i=class{constructor(t){this.router=t}canActivate(){return!!localStorage.getItem("accessToken")||(this.router.navigate(["/auth/login"]),!1)}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.LFG(f.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),r})()]},{path:"memories",component:Ie,canActivate:[k,O]},{path:"notes",component:Le,canActivate:[k,O]},{path:"assets",component:He,canActivate:[k,O]},{path:"passwords",component:z,canActivate:[k]},{path:"change-password",component:(()=>{const i=class{constructor(t,n,o,a){this.formBuilder=t,this.authService=n,this.sharedService=o,this.router=a,this.showOldPassword=!1,this.showNewPassword=!1,this.showConfirmPassword=!1}ngOnInit(){this.changePasswordForm=this.formBuilder.group({oldPassword:["",[l.kI.required]],newPassword:["",[l.kI.required,l.kI.minLength(6)]],confirmPassword:["",l.kI.required]},{validators:this.passwordMatchValidator})}passwordMatchValidator(t){const n=t.get("newPassword"),o=t.get("confirmPassword");return n&&o&&n.value!==o.value?{passwordMismatch:!0}:null}submit(){if(this.changePasswordForm.invalid)return void this.sharedService.showToast(this.changePasswordForm.errors?.passwordMismatch?{classname:"error",text:"Passwords do not match"}:{classname:"error",text:"Please fill all required fields correctly"});const t=this.changePasswordForm.get("oldPassword"),n=this.changePasswordForm.get("newPassword");t&&n&&this.authService.changePassword(t.value,n.value).subscribe({next:c=>{this.sharedService.showToast({classname:"success",text:"Password changed successfully"}),this.router.navigate(["/dashboard"])},error:c=>{this.sharedService.showToast({classname:"error",text:c.error.message||"Failed to change password"})}})}};let r=i;return i.\u0275fac=function(n){return new(n||i)(e.Y36(l.QS),e.Y36(on.e),e.Y36(v.F),e.Y36(f.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-change-password"]],decls:39,vars:12,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card","mt-5"],[1,"card-body"],[1,"card-title","text-center","mb-4"],[3,"formGroup","submit"],[1,"mb-3"],["for","oldPassword",1,"form-label"],[1,"input-group"],["id","oldPassword","formControlName","oldPassword","placeholder","Enter current password",1,"form-control",3,"type"],[1,"input-group-text"],["width","24",2,"cursor","pointer",3,"src","click"],["class","text-danger",4,"ngIf"],["for","newPassword",1,"form-label"],["id","newPassword","formControlName","newPassword","placeholder","Enter new password",1,"form-control",3,"type"],[1,"mb-4"],["for","confirmPassword",1,"form-label"],["id","confirmPassword","formControlName","confirmPassword","placeholder","Confirm new password",1,"form-control",3,"type"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary"],["type","button","routerLink","/dashboard",1,"btn","btn-secondary"],[1,"text-danger"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Change Password"),e.qZA(),e.TgZ(7,"form",6),e.NdJ("submit",function(){return o.submit()}),e.TgZ(8,"div",7)(9,"label",8),e._uU(10,"Current Password"),e.qZA(),e.TgZ(11,"div",9),e._UZ(12,"input",10),e.TgZ(13,"span",11)(14,"img",12),e.NdJ("click",function(){return o.showOldPassword=!o.showOldPassword}),e.qZA()()(),e.YNc(15,rn,2,0,"div",13),e.qZA(),e.TgZ(16,"div",7)(17,"label",14),e._uU(18,"New Password"),e.qZA(),e.TgZ(19,"div",9),e._UZ(20,"input",15),e.TgZ(21,"span",11)(22,"img",12),e.NdJ("click",function(){return o.showNewPassword=!o.showNewPassword}),e.qZA()()(),e.YNc(23,sn,2,0,"div",13),e.YNc(24,an,2,0,"div",13),e.qZA(),e.TgZ(25,"div",16)(26,"label",17),e._uU(27,"Confirm New Password"),e.qZA(),e.TgZ(28,"div",9),e._UZ(29,"input",18),e.TgZ(30,"span",11)(31,"img",12),e.NdJ("click",function(){return o.showConfirmPassword=!o.showConfirmPassword}),e.qZA()()(),e.YNc(32,ln,2,0,"div",13),e.YNc(33,cn,2,0,"div",13),e.qZA(),e.TgZ(34,"div",19)(35,"button",20),e._uU(36," Change Password "),e.qZA(),e.TgZ(37,"button",21),e._uU(38," Cancel "),e.qZA()()()()()()()()),2&n){let a,c,d,p,g;e.xp6(7),e.Q6J("formGroup",o.changePasswordForm),e.xp6(5),e.Q6J("type",o.showOldPassword?"text":"password"),e.xp6(2),e.Q6J("src",o.showOldPassword?"../../../assets/icons/form/eye-show.svg":"../../../assets/icons/form/eye-hide.svg",e.LSH),e.xp6(1),e.Q6J("ngIf",(null==(a=o.changePasswordForm.get("oldPassword"))?null:a.touched)&&(null==(a=o.changePasswordForm.get("oldPassword"))||null==a.errors?null:a.errors.required)),e.xp6(5),e.Q6J("type",o.showNewPassword?"text":"password"),e.xp6(2),e.Q6J("src",o.showNewPassword?"../../../assets/icons/form/eye-show.svg":"../../../assets/icons/form/eye-hide.svg",e.LSH),e.xp6(1),e.Q6J("ngIf",(null==(c=o.changePasswordForm.get("newPassword"))?null:c.touched)&&(null==(c=o.changePasswordForm.get("newPassword"))||null==c.errors?null:c.errors.required)),e.xp6(1),e.Q6J("ngIf",(null==(d=o.changePasswordForm.get("newPassword"))?null:d.touched)&&(null==(d=o.changePasswordForm.get("newPassword"))||null==d.errors?null:d.errors.minlength)),e.xp6(5),e.Q6J("type",o.showConfirmPassword?"text":"password"),e.xp6(2),e.Q6J("src",o.showConfirmPassword?"../../../assets/icons/form/eye-show.svg":"../../../assets/icons/form/eye-hide.svg",e.LSH),e.xp6(1),e.Q6J("ngIf",(null==(p=o.changePasswordForm.get("confirmPassword"))?null:p.touched)&&(null==(p=o.changePasswordForm.get("confirmPassword"))||null==p.errors?null:p.errors.required)),e.xp6(1),e.Q6J("ngIf",(null==o.changePasswordForm.errors?null:o.changePasswordForm.errors.passwordMismatch)&&(null==(g=o.changePasswordForm.get("confirmPassword"))?null:g.touched))}},dependencies:[u.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,f.rH]}),r})()},{path:"key-holders",component:xe},{path:"key-holders/:id",component:kt},{path:"memories/folder/:id",component:Pt,canActivate:[k]},{path:"notes/:year",component:vt,canActivate:[k,O]},{path:"passwords",component:z},{path:"personal-info",component:mt,canActivate:[k]},{path:"obituary-info",component:at,canActivate:[k]},{path:"obituary-info/:year",component:$t,canActivate:[k]},{path:"admin/users",component:Xt}]}];let un=(()=>{const i=class{};let r=i;return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[f.Bz.forChild(dn),f.Bz]}),r})();var mn=y(881),pn=y(6294);let gn=(()=>{const i=class{constructor(){this.isMenuOpen=!1}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}};let r=i;return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-navbar"]],standalone:!0,features:[e.jDz],decls:26,vars:2,consts:[[1,"green-overlay"],[1,"navbar"],[1,"logo"],["routerLink","/"],[1,"nav-links"],["routerLink","/about-us","routerLinkActive","active",3,"click"],["routerLink","/services","routerLinkActive","active",3,"click"],["routerLink","/legacy","routerLinkActive","active",3,"click"],["routerLink","/auto-obituary","routerLinkActive","active",3,"click"],["routerLink","/contact-us","routerLinkActive","active",3,"click"],["routerLink","/pricing","routerLinkActive","active",3,"click"],["routerLink","/contact-us",1,"cta-btn"],[1,"hamburger",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"header"),e._UZ(1,"div",0),e.TgZ(2,"nav",1)(3,"div",2)(4,"a",3)(5,"span"),e._uU(6,"PEARLS OF MY LYFE"),e.qZA()()(),e.TgZ(7,"div",4)(8,"a",5),e.NdJ("click",function(){return o.toggleMenu()}),e._uU(9,"About Us"),e.qZA(),e.TgZ(10,"a",6),e.NdJ("click",function(){return o.toggleMenu()}),e._uU(11,"Services"),e.qZA(),e.TgZ(12,"a",7),e.NdJ("click",function(){return o.toggleMenu()}),e._uU(13,"Legacy"),e.qZA(),e.TgZ(14,"a",8),e.NdJ("click",function(){return o.toggleMenu()}),e._uU(15,"Auto Obituary"),e.qZA(),e.TgZ(16,"a",9),e.NdJ("click",function(){return o.toggleMenu()}),e._uU(17,"Contact Us"),e.qZA(),e.TgZ(18,"a",10),e.NdJ("click",function(){return o.toggleMenu()}),e._uU(19,"Pricing"),e.qZA(),e.TgZ(20,"a",11),e._uU(21,"Get Started"),e.qZA()(),e.TgZ(22,"div",12),e.NdJ("click",function(){return o.toggleMenu()}),e._UZ(23,"span")(24,"span")(25,"span"),e.qZA()()()),2&n&&(e.xp6(7),e.ekj("open",o.isMenuOpen))},dependencies:[u.ez,f.Bz,f.rH,f.Od],styles:['header[_ngcontent-%COMP%]{position:relative}.green-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:15px;background:linear-gradient(90deg,#2ecc71,#27ae60);z-index:100}.navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 5%;background-color:#fffffff2;box-shadow:0 2px 10px #0000001a;position:relative;z-index:10}.logo[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;transition:color .3s}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f39c12}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f39c12,#e67e22);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.nav-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#555;font-weight:500;transition:all .3s;position:relative}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-5px;left:0;width:0;height:2px;background:linear-gradient(90deg,#f39c12,#e67e22);transition:width .3s}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#f39c12}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after, .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{width:100%}.nav-links[_ngcontent-%COMP%]   a.cta-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f39c12,#e67e22);color:#fff;padding:.6rem 1.2rem;border-radius:30px}.nav-links[_ngcontent-%COMP%]   a.cta-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 4px 10px #f39c124d}.nav-links[_ngcontent-%COMP%]   a.cta-btn[_ngcontent-%COMP%]:after{display:none}.hamburger[_ngcontent-%COMP%]{display:none;flex-direction:column;cursor:pointer}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:25px;height:3px;background-color:#555;margin:3px 0;transition:.3s}@media (max-width: 768px){.hamburger[_ngcontent-%COMP%]{display:flex}.nav-links[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;background:white;flex-direction:column;align-items:center;padding:2rem 0;gap:1.5rem;transform:translateY(-150%);opacity:0;transition:all .3s ease-in-out;box-shadow:0 10px 10px #0000001a;z-index:-1}.nav-links.open[_ngcontent-%COMP%]{transform:translateY(0);opacity:1}}']}),r})(),hn=(()=>{const i=class{};let r=i;return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.ez,l.u5,G.s,R.G,x,l.UX,j,$,K,l.UX,h.M,T,un,mn.D,pn.x,gn]}),r})()}}]);